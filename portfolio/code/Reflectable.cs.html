<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head><title>Reflectable.cs</title><style type="text/css">* html a:hover{background:transparent}body{color:#C5C8C6;margin:5px 0}pre{border:0;margin:0;padding:0}td{padding:0}table{border:0;margin:0;padding:0;border-collapse:collapse;empty-cells:show}span{display:inline-block;border:0;margin:0}td.cl div{width:100%}span.cg{vertical-align:top}::-webkit-scrollbar{width:12px;height:12px}::-webkit-scrollbar-track{background:#1D1F21}::-webkit-scrollbar-thumb{border:2px solid rgba(0,0,0,0);background:#999;border-radius:6px;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{border:2px solid rgba(0,0,0,0);background:#777;border-radius:6px;background-clip:padding-box}::-webkit-scrollbar-button{width:0;height:0;display:none}::-webkit-scrollbar-corner{background-color:#1D1F21}.scp::-webkit-scrollbar-corner{background-color:#FFF}.scp::-webkit-scrollbar-track{background:#FFF}.ln{color:#C5C8C6}.ln:before{content:attr(data-line-number)}.cp{background-color:#1D1F21;font-family:"Menlo","Consolas","Courier",Monospace;font-size:calc(1.58vw - 0.5px);tab-size:2}.scp{background-color:white;color:black;padding:0 5px}.cg{display:table-cell;background-color:#1D1F21;padding-right:5px}.b{font-weight:bold}.i{font-style:italic}.n{font-style:normal}.u{text-decoration:underline}.w{white-space:-moz-pre-w;white-space:-hp-pre-w;white-space:-o-pre-w;white-space:-pre-w;white-space:pre-w;word-w:break-word}.w span{display:inline}div#tbh{position:fixed;top:0px;right:0px;padding-top:5px;padding-right:10px}div#tb{visibility:hidden;text-align:center;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;opacity:0;-webkit-transform:translateZ(0);-webkit-font-smoothing:antialiased;-webkit-transition:all .25s ease-in;-moz-transition:all .25s ease-in;-ms-transition:all .25s ease-in;-o-transition:all .25s ease-in;transition:all .25s ease-in;background-color:black;color:white}div#tbh:hover div#tb{visibility:visible;opacity: .8;-webkit-transition:all .25s ease-out;-moz-transition:all .25s ease-out;-ms-transition:all .25s ease-out;-o-transition:all .25s ease-out;transition:all .25s ease-out}div#tb img{display:inline-block;vertical-align:middle;border:0;cursor:pointer;height:16px;width:16px;padding:5px}#tt{border-radius:5px 5px;-moz-border-radius:5px;-webkit-border-radius:5px;box-shadow:5px 5px 5px rgba(0, 0, 0, 0.1);-webkit-box-shadow:5px 5px rgba(0, 0, 0, 0.1);-moz-box-shadow:5px 5px rgba(0, 0, 0, 0.1);white-space:-moz-pre-w;white-space:-hp-pre-w;white-space:-o-pre-w;white-space:-pre-w;white-space:pre-w;white-space:pre-line;word-w:break-word;position:absolute;display:block;color:black;padding:0.8em 1em;background:#FFFFE0;border:solid black;font-family:Calibri,Tahoma,Geneva,sans-serif;font-size:10pt;font-weight:bold}a.an{color:#C5C8C6;outline:none;text-decoration:underline}span.an{display:inline}.th{cursor:pointer}div#cl{visibility:hidden;display:none;margin:auto auto;text-align:center;position:fixed;z-index:99;left:0px;top:0px}div#cw{max-height:200px;overflow:auto;border:solid black;-moz-border-radius:5px;-webkit-border-radius:5px;box-shadow:5px 5px 5px rgba(0, 0, 0, 0.1);-webkit-box-shadow:5px 5px rgba(0, 0, 0, 0.1);-moz-box-shadow:5px 5px rgba(0,0,0,0.1)}table#ct{border:thin solid;border-collapse:collapse;color:#000;background-color:#FFFFE0;margin:auto auto}div.tf{text-align:right;font-size:8pt;font-weight:bold}a.tc{color:black;float:right}a.tc:link{text-decoration:none}a.tc:active{text-decoration:none}a.tc:visited{text-decoration:none}a.tc:hover{text-decoration:none}table#ct th, table#ct td{border:thin solid;padding:5px}td.al{width:60px;text-align:right;padding-right:20px}.ac{width:500px}div.ac{float:left;text-align:left;white-space:-moz-pre-w;white-space:-hp-pre-w;white-space:-o-pre-w;white-space:-pre-w;white-space:pre-w;word-w:break-word}.c1{color:#8ABEB7}.c2{color:#B294BB}.c3{color:#B5BD68}.c4{color:#DE935F}.c5{color:#E7A218}.c6{color:#3CF}.c7{color:#F0C674}.c8{color:#969896}.c9{color:#CC6666}</style></head>
<body class="cp ct">
<pre class="cp"><table cellspacing="0" cellpadding="0" class="cp"><tr><td><table cellspacing="0" cellpadding="0" class="cp">
<tr><td valign="top" id="L_0_1" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1"><span class="rt"><span class="c2">using</span> System<span class="c1">.</span>Collections<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_2" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_2"><span class="rt"><span class="c2">using</span> System<span class="c1">.</span>Collections<span class="c1">.</span>Generic<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_3" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_3"><span class="rt"><span class="c2">using</span> UnityEngine<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_4" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_4"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_5" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;&nbsp;5&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_5"><span class="rt"><span class="c1">[</span>ExecuteInEditMode<span class="c1">]</span></span></div></td></tr>
<tr><td valign="top" id="L_0_6" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;&nbsp;6&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_6"><span class="rt"><span class="c2">public</span> <span class="c2">class</span> <span class="b c7">Reflectable</span> <span class="c1">:</span> <span class="c3">MonoBehaviour</span></span></div></td></tr>
<tr><td valign="top" id="L_0_7" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;&nbsp;7&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_7"><span class="rt"><span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_8" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;&nbsp;8&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_8"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_9" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;&nbsp;9&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_9"><span class="rt">&nbsp; <span class="b c5">/*</span><span class="i c8"> !!! FIRST PASS ONLY !!!</span></span></div></td></tr>
<tr><td valign="top" id="L_0_10" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;10&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_10"><span class="rt"><span class="i c8">&nbsp;&nbsp;&nbsp;&nbsp; This code is still in active testing, and has not recieved any special attention, or cleanup.</span></span></div></td></tr>
<tr><td valign="top" id="L_0_11" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;11&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_11"><span class="rt"><span class="i c8">&nbsp;&nbsp;&nbsp;&nbsp; Once the methods it is attempting are proven, this file needs a second pass.</span></span></div></td></tr>
<tr><td valign="top" id="L_0_12" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;12&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_12"><span class="rt"><span class="i empty_text" style=" color: #969896;">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_13" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;13&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_13"><span class="rt"><span class="i c8">&nbsp;&nbsp;&nbsp;&nbsp; This class should allow a mesh composed of triangles, to be folded arbitrarily, folds will</span></span></div></td></tr>
<tr><td valign="top" id="L_0_14" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;14&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_14"><span class="rt"><span class="i c8">&nbsp;&nbsp;&nbsp;&nbsp; behave naturally (the back folding to the front, and the front folding inside). </span><span class="b c5">*/</span></span></div></td></tr>
<tr><td valign="top" id="L_0_15" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;15&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_15"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_16" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;16&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_16"><span class="rt">&nbsp; <span class="b c5">//</span><span class="b c5"> Referances:</span></span></div></td></tr>
<tr><td valign="top" id="L_0_17" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;17&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_17"><span class="rt"><span class="b c5"></span>&nbsp; <span class="c2">public</span> <span class="b c7">Transform</span> cursor<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_18" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;18&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_18"><span class="rt">&nbsp; <span class="c2">public</span> <span class="b c7">MeshFilter</span> meshFilter<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_19" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;19&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_19"><span class="rt">&nbsp; <span class="c2">public</span> <span class="b c7">MeshFilter</span> shadowMeshFilter<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_20" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;20&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_20"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_21" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;21&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_21"><span class="rt">&nbsp; <span class="b c5">//</span><span class="b c5"> Configuration:</span></span></div></td></tr>
<tr><td valign="top" id="L_0_22" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;22&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_22"><span class="rt"><span class="b c5"></span>&nbsp; <span class="c2">public</span> <span class="c2">float</span> sizeX, sizeY<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_23" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;23&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_23"><span class="rt">&nbsp; <span class="c2">public</span> <span class="c2">float</span> shadowDistance <span class="c1">=</span> <span class="c4">0.1</span><span class="c2">f</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_24" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;24&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_24"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_25" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;25&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_25"><span class="rt">&nbsp; <span class="c2">public</span> <span class="b c7">StartReflection</span><span class="c1">[</span><span class="c1">]</span> startReflections<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_26" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;26&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_26"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_27" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;27&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_27"><span class="rt">&nbsp; <span class="b c5">//</span><span class="b c5"> Mesh Access:</span></span></div></td></tr>
<tr><td valign="top" id="L_0_28" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;28&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_28"><span class="rt"><span class="b c5"></span>&nbsp; <span class="c2">private</span> <span class="b c7">Mesh</span> mesh<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_29" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;29&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_29"><span class="rt">&nbsp; <span class="c2">private</span> <span class="b c7">Mesh</span> shadowMesh<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_30" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;30&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_30"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_31" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;31&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_31"><span class="rt">&nbsp; <span class="b c5">//</span><span class="b c5"> State:</span></span></div></td></tr>
<tr><td valign="top" id="L_0_32" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;32&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_32"><span class="rt"><span class="b c5"></span>&nbsp; <span class="c2">private</span> <span class="b c7">List</span><span class="c1">&lt;</span><span class="b c7">Triangle</span><span class="c1">&gt;</span> initialTriangles <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">List</span><span class="c1">&lt;</span><span class="b c7">Triangle</span><span class="c1">&gt;</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_33" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;33&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_33"><span class="rt">&nbsp; <span class="c2">private</span> <span class="b c7">List</span><span class="c1">&lt;</span><span class="b c7">Triangle</span><span class="c1">&gt;</span> savedTris<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_34" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;34&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_34"><span class="rt">&nbsp; <span class="c2">private</span> <span class="b c7">List</span><span class="c1">&lt;</span><span class="b c7">Triangle</span><span class="c1">&gt;</span> triangles<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_35" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;35&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_35"><span class="rt">&nbsp; <span class="c2">private</span> <span class="c2">bool</span> dragging <span class="c1">=</span> <span class="c4">false</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_36" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;36&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_36"><span class="rt">&nbsp; <span class="c2">private</span> <span class="b c7">Vector2</span> dragOrigin<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_37" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;37&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_37"><span class="rt">&nbsp; <span class="c2">private</span> <span class="c2">int</span> foldCount <span class="c1">=</span> <span class="c4">0</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_38" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;38&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_38"><span class="rt">&nbsp; <span class="c2">private</span> <span class="b c7">Reflection</span><span class="c1">[</span><span class="c1">]</span> folds <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">Reflection</span><span class="c1">[</span><span class="c4">32</span><span class="c1">]</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_39" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;39&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_39"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_40" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;40&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_40"><span class="rt">&nbsp; <span class="b c5">//</span><span class="b c5"> Animation:</span></span></div></td></tr>
<tr><td valign="top" id="L_0_41" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;41&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_41"><span class="rt"><span class="b c5"></span>&nbsp; <span class="c2">private</span> <span class="b c7">Vector2</span> trackPos<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_42" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;42&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_42"><span class="rt">&nbsp; <span class="c2">private</span> <span class="b c7">Vector2</span> trackDir<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_43" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;43&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_43"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_44" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;44&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_44"><span class="rt">&nbsp; <span class="b c5">//</span><span class="b c5"> Messages //////////////////////////////////////////////////////////////////////////////////////</span></span></div></td></tr>
<tr><td valign="top" id="L_0_45" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;45&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_45"><span class="rt"><span class="b empty_text" style=" color: #E7A218;">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_46" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;46&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_46"><span class="rt">&nbsp; <span class="c2">void</span> <span class="c6">Start</span><span class="c1">(</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_47" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;47&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_47"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_48" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;48&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_48"><span class="rt">&nbsp;&nbsp;&nbsp; mesh <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">Mesh</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_49" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;49&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_49"><span class="rt">&nbsp;&nbsp;&nbsp; meshFilter<span class="c1">.</span>sharedMesh <span class="c1">=</span> mesh<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_50" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;50&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_50"><span class="rt">&nbsp;&nbsp;&nbsp; shadowMesh <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">Mesh</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_51" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;51&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_51"><span class="rt">&nbsp;&nbsp;&nbsp; shadowMeshFilter<span class="c1">.</span>sharedMesh <span class="c1">=</span> shadowMesh<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_52" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;52&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_52"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_53" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;53&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_53"><span class="rt">&nbsp;&nbsp;&nbsp; initialTriangles<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span><span class="c1">new</span> <span class="b c7">Triangle</span><span class="c1">(</span></span></div></td></tr>
<tr><td valign="top" id="L_0_54" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;54&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_54"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">new</span> <span class="b c7">Vector3</span><span class="c1">(</span><span class="c4">0</span><span class="c1">,</span> <span class="c4">0</span><span class="c1">,</span> <span class="c4">0</span><span class="c1">)</span><span class="c1">,</span> <span class="c1">new</span> <span class="b c7">Vector3</span><span class="c1">(</span><span class="c4">0</span><span class="c1">,</span> sizeY<span class="c1">,</span> <span class="c4">0</span><span class="c1">)</span><span class="c1">,</span> <span class="c1">new</span> <span class="b c7">Vector3</span><span class="c1">(</span>sizeX<span class="c1">,</span> <span class="c4">0</span><span class="c1">,</span> <span class="c4">0</span><span class="c1">)</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_55" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;55&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_55"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">new</span> <span class="b c7">Vector2</span><span class="c1">(</span><span class="c4">0</span><span class="c1">,</span> <span class="c4">0</span><span class="c1">)</span><span class="c1">,</span>&nbsp;&nbsp;&nbsp; <span class="c1">new</span> <span class="b c7">Vector2</span><span class="c1">(</span><span class="c4">0</span><span class="c1">,</span> <span class="c4">1</span><span class="c1">)</span><span class="c1">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">new</span> <span class="b c7">Vector2</span><span class="c1">(</span><span class="c4">1</span><span class="c1">,</span> <span class="c4">0</span><span class="c1">)</span><span class="c1">,</span> <span class="c4">0</span><span class="c1">,</span> <span class="c4">true</span><span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_56" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;56&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_56"><span class="rt">&nbsp;&nbsp;&nbsp; initialTriangles<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span><span class="c1">new</span> <span class="b c7">Triangle</span><span class="c1">(</span></span></div></td></tr>
<tr><td valign="top" id="L_0_57" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;57&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_57"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">new</span> <span class="b c7">Vector3</span><span class="c1">(</span><span class="c4">0</span><span class="c1">,</span> sizeY<span class="c1">,</span> <span class="c4">0</span><span class="c1">)</span><span class="c1">,</span> <span class="c1">new</span> <span class="b c7">Vector3</span><span class="c1">(</span>sizeX<span class="c1">,</span> sizeY<span class="c1">,</span> <span class="c4">0</span><span class="c1">)</span><span class="c1">,</span> <span class="c1">new</span> <span class="b c7">Vector3</span><span class="c1">(</span>sizeX<span class="c1">,</span> <span class="c4">0</span><span class="c1">,</span> <span class="c4">0</span><span class="c1">)</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_58" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;58&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_58"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">new</span> <span class="b c7">Vector2</span><span class="c1">(</span><span class="c4">0</span><span class="c1">,</span> <span class="c4">1</span><span class="c1">)</span><span class="c1">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">new</span> <span class="b c7">Vector2</span><span class="c1">(</span><span class="c4">1</span><span class="c1">,</span>&nbsp;&nbsp;&nbsp;&nbsp; <span class="c4">1</span><span class="c1">)</span><span class="c1">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">new</span> <span class="b c7">Vector2</span><span class="c1">(</span><span class="c4">1</span><span class="c1">,</span> <span class="c4">0</span><span class="c1">)</span><span class="c1">,</span> <span class="c4">0</span><span class="c1">,</span> <span class="c4">true</span><span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_59" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;59&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_59"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_60" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;60&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_60"><span class="rt">&nbsp;&nbsp;&nbsp; triangles <span class="c1">=</span> <span class="c6">CopyTriangles</span><span class="c1">(</span>initialTriangles<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_61" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;61&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_61"><span class="rt">&nbsp;&nbsp;&nbsp; savedTris <span class="c1">=</span> <span class="c6">CopyTriangles</span><span class="c1">(</span>triangles<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_62" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;62&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_62"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c6">UpdateMesh</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_63" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;63&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_63"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_64" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;64&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_64"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c6">UpdateReflections</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_65" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;65&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_65"><span class="rt">&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_66" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;66&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_66"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_67" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;67&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_67"><span class="rt">&nbsp; <span class="c2">void</span> <span class="c6">Update</span><span class="c1">(</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_68" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;68&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_68"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_69" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;69&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_69"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="b c7">Vector3</span> mousePoint <span class="c1">=</span> Input<span class="c1">.</span>mousePosition<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_70" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;70&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_70"><span class="rt">&nbsp;&nbsp;&nbsp; mousePoint<span class="c1">.</span>x <span class="c1">*=</span> sizeX <span class="c1">/</span> Screen<span class="c1">.</span>width<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_71" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;71&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_71"><span class="rt">&nbsp;&nbsp;&nbsp; mousePoint<span class="c1">.</span>y <span class="c1">*=</span> sizeY <span class="c1">/</span> Screen<span class="c1">.</span>height<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_72" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;72&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_72"><span class="rt">&nbsp;&nbsp;&nbsp; mousePoint<span class="c1">.</span>x <span class="c1">=</span> Mathf<span class="c1">.</span><span class="c6">Clamp</span><span class="c1">(</span>mousePoint<span class="c1">.</span>x<span class="c1">,</span> <span class="c4">0</span><span class="c1">,</span> sizeX<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_73" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;73&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_73"><span class="rt">&nbsp;&nbsp;&nbsp; mousePoint<span class="c1">.</span>y <span class="c1">=</span> Mathf<span class="c1">.</span><span class="c6">Clamp</span><span class="c1">(</span>mousePoint<span class="c1">.</span>y<span class="c1">,</span> <span class="c4">0</span><span class="c1">,</span> sizeY<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_74" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;74&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_74"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_75" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;75&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_75"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="b c7">Vector2</span> mouseQuantized <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">Vector2</span><span class="c1">(</span>Mathf<span class="c1">.</span><span class="c6">Round</span><span class="c1">(</span>mousePoint<span class="c1">.</span>x<span class="c1">)</span><span class="c1">,</span> Mathf<span class="c1">.</span><span class="c6">Round</span><span class="c1">(</span>mousePoint<span class="c1">.</span>y<span class="c1">)</span><span class="c1">)</span> <span class="c1">+</span></span></div></td></tr>
<tr><td valign="top" id="L_0_76" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;76&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_76"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">new</span> <span class="b c7">Vector2</span><span class="c1">(</span>transform<span class="c1">.</span>position<span class="c1">.</span>x<span class="c1">,</span> transform<span class="c1">.</span>position<span class="c1">.</span>y<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_77" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;77&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_77"><span class="rt">&nbsp;&nbsp;&nbsp; cursor<span class="c1">.</span>position <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">Vector3</span><span class="c1">(</span>mouseQuantized<span class="c1">.</span>x<span class="c1">,</span> mouseQuantized<span class="c1">.</span>y<span class="c1">,</span> cursor<span class="c1">.</span>position<span class="c1">.</span>z<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_78" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;78&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_78"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">float</span> dragDistance <span class="c1">=</span> <span class="c1">(</span>mouseQuantized <span class="c1">-</span> dragOrigin<span class="c1">)</span><span class="c1">.</span>magnitude<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_79" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;79&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_79"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_80" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;80&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_80"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>dragging<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_81" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;81&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_81"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_82" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;82&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_82"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span><span class="c1">!</span>Input<span class="c1">.</span><span class="c6">GetMouseButton</span><span class="c1">(</span><span class="c4">0</span><span class="c1">)</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_83" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;83&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_83"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_84" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;84&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_84"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dragging <span class="c1">=</span> <span class="c4">false</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_85" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;85&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_85"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_86" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;86&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_86"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_87" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;87&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_87"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>dragDistance <span class="c1">&gt;</span> <span class="c4">0.01</span><span class="c2">f</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_88" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;88&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_88"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_89" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;89&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_89"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> FUNCTION CANDIDATE: PreviewFold(mouseQuantized)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_90" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;90&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_90"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; triangles <span class="c1">=</span> <span class="c6">CopyTriangles</span><span class="c1">(</span>savedTris<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_91" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;91&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_91"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">Vector2</span> reflectionPoint <span class="c1">=</span> <span class="c4">0.5</span><span class="c2">f</span> <span class="c1">*</span> <span class="c1">(</span>dragOrigin <span class="c1">+</span> mouseQuantized<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_92" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;92&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_92"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_93" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;93&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_93"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span><span class="c1">!</span>Input<span class="c1">.</span><span class="c6">GetMouseButton</span><span class="c1">(</span><span class="c4">0</span><span class="c1">)</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_94" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;94&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_94"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_95" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;95&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_95"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> FUNCTION CANDIDATE: EndFold(mouseQuantized)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_96" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;96&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_96"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">ReflectionLine</span> reflectionLine <span class="c1">=</span> <span class="c6">GetLine</span><span class="c1">(</span>transform<span class="c1">.</span><span class="c6">InverseTransformPoint</span><span class="c1">(</span>reflectionPoint<span class="c1">)</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_97" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;97&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_97"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mouseQuantized <span class="c1">-</span> dragOrigin<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_98" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;98&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_98"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c6">Reflect</span><span class="c1">(</span>reflectionLine<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_99" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;&nbsp;99&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_99"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>dragDistance <span class="c1">&gt;</span> <span class="c4">0.01</span><span class="c2">f</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_100" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;100&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_100"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_101" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;101&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_101"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; savedTris <span class="c1">=</span> triangles<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_102" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;102&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_102"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; folds<span class="c1">[</span>foldCount<span class="c1">]</span> <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">Reflection</span><span class="c1">(</span>dragOrigin<span class="c1">,</span> reflectionLine<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_103" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;103&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_103"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">++</span>foldCount<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_104" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;104&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_104"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_105" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;105&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_105"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_106" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;106&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_106"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">else</span></span></div></td></tr>
<tr><td valign="top" id="L_0_107" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;107&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_107"><span class="rt"><span class="c2"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_108" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;108&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_108"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; trackPos <span class="c1">=</span> Vector2<span class="c1">.</span><span class="c6">Lerp</span><span class="c1">(</span>trackPos<span class="c1">,</span> reflectionPoint<span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_109" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;109&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_109"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HitchLib<span class="c1">.</span>Math<span class="c1">.</span><span class="c6">HalfLifeInterp</span><span class="c1">(</span><span class="c4">0.05</span><span class="c2">f</span><span class="c1">,</span> Time<span class="c1">.</span>deltaTime<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_110" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;110&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_110"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; trackDir <span class="c1">=</span> Vector2<span class="c1">.</span><span class="c6">Lerp</span><span class="c1">(</span>trackDir<span class="c1">,</span> mouseQuantized <span class="c1">-</span> dragOrigin<span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_111" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;111&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_111"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HitchLib<span class="c1">.</span>Math<span class="c1">.</span><span class="c6">HalfLifeInterp</span><span class="c1">(</span><span class="c4">0.05</span><span class="c2">f</span><span class="c1">,</span> Time<span class="c1">.</span>deltaTime<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_112" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;112&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_112"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">ReflectionLine</span> reflectionLine <span class="c1">=</span> <span class="c6">GetLine</span><span class="c1">(</span>transform<span class="c1">.</span><span class="c6">InverseTransformPoint</span><span class="c1">(</span>trackPos<span class="c1">)</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_113" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;113&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_113"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; trackDir<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_114" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;114&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_114"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c6">Reflect</span><span class="c1">(</span>reflectionLine<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_115" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;115&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_115"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_116" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;116&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_116"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_117" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;117&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_117"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">else</span></span></div></td></tr>
<tr><td valign="top" id="L_0_118" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;118&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_118"><span class="rt"><span class="c2"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_119" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;119&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_119"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> </span><span class="b c5">TODO</span><span class="b c5"> (hitch) 5-9-18 This does not need to update every frame!</span></span></div></td></tr>
<tr><td valign="top" id="L_0_120" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;120&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_120"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> NOTE (hitch) 5-13-18 Maybe it does now? We are tweening the folds....</span></span></div></td></tr>
<tr><td valign="top" id="L_0_121" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;121&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_121"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; trackPos <span class="c1">=</span> dragOrigin<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_122" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;122&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_122"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; trackDir <span class="c1">=</span> Vector2<span class="c1">.</span>zero<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_123" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;123&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_123"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; triangles <span class="c1">=</span> <span class="c6">CopyTriangles</span><span class="c1">(</span>savedTris<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_124" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;124&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_124"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c6">UpdateMesh</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_125" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;125&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_125"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_126" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;126&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_126"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_127" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;127&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_127"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">else if</span> <span class="c1">(</span>Input<span class="c1">.</span><span class="c6">GetMouseButtonDown</span><span class="c1">(</span><span class="c4">0</span><span class="c1">)</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_128" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;128&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_128"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_129" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;129&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_129"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> MAKE THIS ONLY TRIGGER IF YOU ARE ON AN INITIAL SIDE OR CORNER (EVENTUALLY ANY SIDE? MAYBE</span></span></div></td></tr>
<tr><td valign="top" id="L_0_130" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;130&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_130"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5">&nbsp;&nbsp; WITH QUANTIZED OFFSETS? ex: +(0.5, 0))</span></span></div></td></tr>
<tr><td valign="top" id="L_0_131" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;131&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_131"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> FUNCTION CANDIDATE: StartFold(mouseQuantized)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_132" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;132&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_132"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dragging <span class="c1">=</span> <span class="c4">true</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_133" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;133&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_133"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dragOrigin <span class="c1">=</span> mouseQuantized<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_134" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;134&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_134"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; trackPos <span class="c1">=</span> dragOrigin<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_135" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;135&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_135"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; trackDir <span class="c1">=</span> Vector2<span class="c1">.</span>zero<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_136" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;136&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_136"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_137" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;137&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_137"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">else if</span> <span class="c1">(</span>Input<span class="c1">.</span><span class="c6">GetMouseButtonDown</span><span class="c1">(</span><span class="c4">1</span><span class="c1">)</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_138" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;138&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_138"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_139" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;139&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_139"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> FUNCTION CANDIDATE: TryRemove(mousePoint)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_140" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;140&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_140"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">int</span> removeFold <span class="c1">=</span> <span class="c1">-</span><span class="c4">1</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_141" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;141&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_141"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">foreach</span> <span class="c1">(</span><span class="b c7">Triangle</span> tri <span class="c2">in</span> triangles<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_142" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;142&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_142"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_143" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;143&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_143"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>tri<span class="c1">.</span>folds <span class="c1">&gt;</span> <span class="c1">(</span><span class="c4">1</span> <span class="c1">&lt;&lt;</span> removeFold<span class="c1">)</span> <span class="c1">&amp;&amp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_144" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;144&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_144"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c6">InTriangle</span><span class="c1">(</span>mousePoint<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">)</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_145" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;145&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_145"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_146" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;146&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_146"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">for</span> <span class="c1">(</span><span class="c2">int</span> fold <span class="c1">=</span> <span class="c1">(</span>removeFold <span class="c1">+</span> <span class="c4">1</span><span class="c1">)</span><span class="c1">;</span> fold <span class="c1">&lt;</span> folds<span class="c1">.</span>Length<span class="c1">;</span> <span class="c1">++</span>fold<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_147" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;147&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_147"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_148" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;148&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_148"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span><span class="c1">(</span>tri<span class="c1">.</span>folds <span class="c1">&amp;</span> <span class="c1">(</span><span class="c4">1</span> <span class="c1">&lt;&lt;</span> fold<span class="c1">)</span><span class="c1">)</span> <span class="c1">&gt;</span> <span class="c4">0</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_149" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;149&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_149"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_150" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;150&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_150"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; removeFold <span class="c1">=</span> fold<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_151" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;151&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_151"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_152" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;152&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_152"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_153" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;153&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_153"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_154" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;154&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_154"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_155" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;155&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_155"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>removeFold <span class="c1">&gt;=</span> <span class="c4">0</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_156" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;156&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_156"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_157" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;157&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_157"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">bool</span> removeValid <span class="c1">=</span> <span class="c4">true</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_158" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;158&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_158"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">foreach</span> <span class="c1">(</span><span class="b c7">Triangle</span> overlapTri <span class="c2">in</span> triangles<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_159" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;159&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_159"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_160" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;160&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_160"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">bool</span> higher <span class="c1">=</span> <span class="c1">(</span><span class="c1">(</span>overlapTri<span class="c1">.</span>folds <span class="c1">&amp;</span> <span class="c1">~</span><span class="c1">(</span><span class="c1">(</span><span class="c4">1</span> <span class="c1">&lt;&lt;</span> removeFold<span class="c1">)</span> <span class="c1">-</span> <span class="c4">1</span><span class="c1">)</span><span class="c1">)</span> <span class="c1">&gt;</span> <span class="c1">(</span><span class="c4">1</span> <span class="c1">&lt;&lt;</span> removeFold<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_161" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;161&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_161"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_162" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;162&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_162"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>higher <span class="c1">&amp;&amp;</span> <span class="c1">(</span><span class="c1">(</span>overlapTri<span class="c1">.</span>folds <span class="c1">&amp;</span> <span class="c1">(</span><span class="c4">1</span> <span class="c1">&lt;&lt;</span> removeFold<span class="c1">)</span><span class="c1">)</span> <span class="c1">&gt;</span> <span class="c4">0</span><span class="c1">)</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_163" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;163&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_163"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_164" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;164&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_164"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; removeValid <span class="c1">=</span> <span class="c4">false</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_165" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;165&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_165"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">break</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_166" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;166&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_166"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_167" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;167&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_167"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_168" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;168&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_168"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>higher<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_169" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;169&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_169"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_170" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;170&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_170"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">foreach</span> <span class="c1">(</span><span class="b c7">Triangle</span> tri <span class="c2">in</span> triangles<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_171" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;171&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_171"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_172" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;172&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_172"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span><span class="c1">(</span><span class="c1">(</span>tri<span class="c1">.</span>folds <span class="c1">&amp;</span> <span class="c1">(</span><span class="c4">1</span> <span class="c1">&lt;&lt;</span> removeFold<span class="c1">)</span><span class="c1">)</span> <span class="c1">&gt;</span> <span class="c4">0</span><span class="c1">)</span> <span class="c1">&amp;&amp;</span> <span class="c6">TriangleOverlap</span><span class="c1">(</span>tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_173" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;173&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_173"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">,</span> overlapTri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">,</span> overlapTri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_174" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;174&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_174"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; overlapTri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">)</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_175" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;175&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_175"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_176" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;176&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_176"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; removeValid <span class="c1">=</span> <span class="c4">false</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_177" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;177&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_177"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">break</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_178" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;178&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_178"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_179" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;179&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_179"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_180" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;180&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_180"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span><span class="c1">!</span>removeValid<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_181" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;181&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_181"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_182" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;182&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_182"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">break</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_183" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;183&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_183"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_184" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;184&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_184"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_185" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;185&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_185"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_186" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;186&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_186"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>removeValid<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_187" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;187&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_187"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_188" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;188&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_188"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">for</span> <span class="c1">(</span><span class="c2">int</span> i <span class="c1">=</span> removeFold<span class="c1">;</span> i <span class="c1">&lt;</span> folds<span class="c1">.</span>Length<span class="c1">;</span> <span class="c1">++</span>i<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_189" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;189&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_189"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_190" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;190&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_190"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span><span class="c1">(</span>i <span class="c1">+</span> <span class="c4">1</span><span class="c1">)</span> <span class="c1">&lt;</span> folds<span class="c1">.</span>Length<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_191" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;191&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_191"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_192" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;192&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_192"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; folds<span class="c1">[</span>i<span class="c1">]</span> <span class="c1">=</span> folds<span class="c1">[</span>i <span class="c1">+</span> <span class="c4">1</span><span class="c1">]</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_193" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;193&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_193"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_194" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;194&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_194"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">else</span></span></div></td></tr>
<tr><td valign="top" id="L_0_195" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;195&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_195"><span class="rt"><span class="c2"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_196" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;196&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_196"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; folds<span class="c1">[</span>i<span class="c1">]</span> <span class="c1">=</span> <span class="c4">null</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_197" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;197&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_197"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_198" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;198&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_198"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_199" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;199&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_199"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; triangles <span class="c1">=</span> <span class="c6">CopyTriangles</span><span class="c1">(</span>initialTriangles<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_200" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;200&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_200"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_201" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;201&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_201"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">int</span> totalFolds <span class="c1">=</span> foldCount <span class="c1">-</span> <span class="c4">1</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_202" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;202&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_202"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">for</span> <span class="c1">(</span><span class="b c7">foldCount</span> <span class="c1">=</span> <span class="c4">0</span><span class="c1">;</span> foldCount <span class="c1">&lt;</span> totalFolds<span class="c1">;</span> <span class="c1">++</span>foldCount<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_203" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;203&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_203"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_204" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;204&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_204"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c6">Reflect</span><span class="c1">(</span>folds<span class="c1">[</span>foldCount<span class="c1">]</span><span class="c1">.</span>reflectionLine<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_205" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;205&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_205"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_206" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;206&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_206"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_207" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;207&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_207"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; savedTris <span class="c1">=</span> triangles<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_208" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;208&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_208"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c6">UpdateMesh</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_209" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;209&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_209"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_210" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;210&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_210"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_211" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;211&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_211"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_212" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;212&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_212"><span class="rt">&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_213" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;213&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_213"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_214" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;214&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_214"><span class="rt">&nbsp; <span class="b c5">//</span><span class="b c5"> Interface /////////////////////////////////////////////////////////////////////////////////////</span></span></div></td></tr>
<tr><td valign="top" id="L_0_215" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;215&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_215"><span class="rt"><span class="b empty_text" style=" color: #E7A218;">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_216" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;216&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_216"><span class="rt">&nbsp; <span class="c1">[</span>HitchLib<span class="c1">.</span>Invokable<span class="c1">]</span></span></div></td></tr>
<tr><td valign="top" id="L_0_217" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;217&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_217"><span class="rt">&nbsp; <span class="c2">public</span> <span class="c2">void</span> <span class="c6">UpdateReflections</span><span class="c1">(</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_218" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;218&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_218"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_219" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;219&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_219"><span class="rt">&nbsp;&nbsp;&nbsp; triangles <span class="c1">=</span> <span class="c6">CopyTriangles</span><span class="c1">(</span>initialTriangles<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_220" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;220&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_220"><span class="rt">&nbsp;&nbsp;&nbsp; savedTris <span class="c1">=</span> <span class="c6">CopyTriangles</span><span class="c1">(</span>triangles<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_221" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;221&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_221"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_222" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;222&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_222"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c6">UpdateMesh</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_223" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;223&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_223"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_224" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;224&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_224"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">foreach</span> <span class="c1">(</span><span class="b c7">StartReflection</span> reflect <span class="c2">in</span> startReflections<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_225" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;225&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_225"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_226" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;226&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_226"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c6">Reflect</span><span class="c1">(</span>reflect<span class="c1">.</span>pos<span class="c1">,</span> reflect<span class="c1">.</span>dir<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_227" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;227&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_227"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_228" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;228&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_228"><span class="rt">&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_229" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;229&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_229"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_230" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;230&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_230"><span class="rt">&nbsp; <span class="c2">public</span> <span class="c2">void</span> <span class="c6">Reflect</span><span class="c1">(</span><span class="b c7">Vector3</span> <span class="c4">point</span><span class="c1">,</span> <span class="b c7">Vector2</span> <span class="c4">dir</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_231" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;231&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_231"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_232" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;232&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_232"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="b c7">ReflectionLine</span> reflectionLine <span class="c1">=</span> <span class="c6">GetLine</span><span class="c1">(</span>transform<span class="c1">.</span><span class="c6">InverseTransformPoint</span><span class="c1">(</span>point<span class="c1">)</span><span class="c1">,</span> dir<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_233" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;233&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_233"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c6">Reflect</span><span class="c1">(</span>reflectionLine<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_234" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;234&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_234"><span class="rt">&nbsp;&nbsp;&nbsp; savedTris <span class="c1">=</span> triangles<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_235" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;235&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_235"><span class="rt">&nbsp;&nbsp;&nbsp; folds<span class="c1">[</span>foldCount<span class="c1">]</span> <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">Reflection</span><span class="c1">(</span>dragOrigin<span class="c1">,</span> reflectionLine<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_236" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;236&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_236"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">++</span>foldCount<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_237" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;237&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_237"><span class="rt">&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_238" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;238&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_238"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_239" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;239&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_239"><span class="rt">&nbsp; <span class="b c5">//</span><span class="b c5"> Internal Logic ////////////////////////////////////////////////////////////////////////////////</span></span></div></td></tr>
<tr><td valign="top" id="L_0_240" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;240&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_240"><span class="rt"><span class="b empty_text" style=" color: #E7A218;">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_241" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;241&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_241"><span class="rt">&nbsp; <span class="c2">private</span> <span class="c2">int</span> <span class="c6">GetLayer</span><span class="c1">(</span><span class="c2">int</span> <span class="c4">mask</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_242" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;242&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_242"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_243" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;243&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_243"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">int</span> foldSum <span class="c1">=</span> <span class="c4">0</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_244" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;244&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_244"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">for</span> <span class="c1">(</span><span class="c2">int</span> fold <span class="c1">=</span> <span class="c4">0</span><span class="c1">;</span> fold <span class="c1">&lt;</span> folds<span class="c1">.</span>Length<span class="c1">;</span> <span class="c1">++</span>fold<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_245" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;245&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_245"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_246" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;246&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_246"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span><span class="c1">(</span>mask <span class="c1">&amp;</span> <span class="c1">(</span><span class="c4">1</span> <span class="c1">&lt;&lt;</span> fold<span class="c1">)</span><span class="c1">)</span> <span class="c1">&gt;</span> <span class="c4">0</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_247" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;247&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_247"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_248" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;248&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_248"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; foldSum <span class="c1">=</span> <span class="c1">(</span><span class="c4">1</span> <span class="c1">&lt;&lt;</span> <span class="c1">(</span>fold<span class="c1">+</span><span class="c4">1</span><span class="c1">)</span><span class="c1">)</span> <span class="c1">-</span> <span class="c1">(</span>foldSum<span class="c1">+</span><span class="c4">1</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_249" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;249&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_249"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_250" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;250&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_250"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_251" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;251&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_251"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">return</span> foldSum<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_252" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;252&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_252"><span class="rt">&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_253" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;253&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_253"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_254" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;254&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_254"><span class="rt">&nbsp; <span class="c2">private</span> <span class="c2">bool</span> <span class="c6">TriangleOverlap</span><span class="c1">(</span><span class="b c7">Vector3</span> <span class="c4">aA</span><span class="c1">,</span> <span class="b c7">Vector3</span> <span class="c4">aB</span><span class="c1">,</span> <span class="b c7">Vector3</span> <span class="c4">aC</span><span class="c1">,</span> <span class="b c7">Vector3</span> <span class="c4">bA</span><span class="c1">,</span> <span class="b c7">Vector3</span> <span class="c4">bB</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_255" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;255&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_255"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">Vector3</span> <span class="c4">bC</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_256" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;256&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_256"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_257" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;257&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_257"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> </span><span class="b c5">TODO</span><span class="b c5"> (hitch) 5-8-16 Make this not horrible!</span></span></div></td></tr>
<tr><td valign="top" id="L_0_258" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;258&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_258"><span class="rt"><span class="b empty_text" style=" color: #E7A218;">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_259" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;259&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_259"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">return</span> <span class="c6">InTriangle</span><span class="c1">(</span>aA<span class="c1">,</span> bA<span class="c1">,</span> bB<span class="c1">,</span> bC<span class="c1">)</span> <span class="c1">||</span> <span class="c6">InTriangle</span><span class="c1">(</span>aB<span class="c1">,</span> bA<span class="c1">,</span> bB<span class="c1">,</span> bC<span class="c1">)</span> <span class="c1">||</span> <span class="c6">InTriangle</span><span class="c1">(</span>aC<span class="c1">,</span> bA<span class="c1">,</span> bB<span class="c1">,</span> bC<span class="c1">)</span> <span class="c1">||</span></span></div></td></tr>
<tr><td valign="top" id="L_0_260" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;260&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_260"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c6">InTriangle</span><span class="c1">(</span>bA<span class="c1">,</span> aA<span class="c1">,</span> aB<span class="c1">,</span> aC<span class="c1">)</span> <span class="c1">||</span> <span class="c6">InTriangle</span><span class="c1">(</span>bB<span class="c1">,</span> aA<span class="c1">,</span> aB<span class="c1">,</span> aC<span class="c1">)</span> <span class="c1">||</span> <span class="c6">InTriangle</span><span class="c1">(</span>bC<span class="c1">,</span> aA<span class="c1">,</span> aB<span class="c1">,</span> aC<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_261" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;261&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_261"><span class="rt">&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_262" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;262&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_262"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_263" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;263&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_263"><span class="rt">&nbsp; <span class="c2">private</span> <span class="c2">bool</span> <span class="c6">InTriangle</span><span class="c1">(</span><span class="b c7">Vector3</span> <span class="c4">pos</span><span class="c1">,</span> <span class="b c7">Vector3</span> <span class="c4">triA</span><span class="c1">,</span> <span class="b c7">Vector3</span> <span class="c4">triB</span><span class="c1">,</span> <span class="b c7">Vector3</span> <span class="c4">triC</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_264" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;264&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_264"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_265" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;265&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_265"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> </span><span class="b c5">TODO</span><span class="b c5"> (hitch) 5-8-16 Update this to do convex hull testing instead of this </span><span class="b c5">hack</span><span class="b c5">!</span></span></div></td></tr>
<tr><td valign="top" id="L_0_266" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;266&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_266"><span class="rt"><span class="b empty_text" style=" color: #E7A218;">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_267" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;267&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_267"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">float</span> a <span class="c1">=</span> <span class="c1">(</span><span class="c1">(</span>pos<span class="c1">.</span>x<span class="c1">-</span>triA<span class="c1">.</span>x<span class="c1">)</span> <span class="c1">*</span> <span class="c1">(</span>triB<span class="c1">.</span>y<span class="c1">-</span>triA<span class="c1">.</span>y<span class="c1">)</span><span class="c1">)</span> <span class="c1">-</span></span></div></td></tr>
<tr><td valign="top" id="L_0_268" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;268&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_268"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">(</span><span class="c1">(</span>pos<span class="c1">.</span>y<span class="c1">-</span>triA<span class="c1">.</span>y<span class="c1">)</span> <span class="c1">*</span> <span class="c1">(</span>triB<span class="c1">.</span>x<span class="c1">-</span>triA<span class="c1">.</span>x<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_269" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;269&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_269"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">float</span> b <span class="c1">=</span> <span class="c1">(</span><span class="c1">(</span>pos<span class="c1">.</span>x<span class="c1">-</span>triB<span class="c1">.</span>x<span class="c1">)</span> <span class="c1">*</span> <span class="c1">(</span>triC<span class="c1">.</span>y<span class="c1">-</span>triB<span class="c1">.</span>y<span class="c1">)</span><span class="c1">)</span> <span class="c1">-</span></span></div></td></tr>
<tr><td valign="top" id="L_0_270" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;270&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_270"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">(</span><span class="c1">(</span>pos<span class="c1">.</span>y<span class="c1">-</span>triB<span class="c1">.</span>y<span class="c1">)</span> <span class="c1">*</span> <span class="c1">(</span>triC<span class="c1">.</span>x<span class="c1">-</span>triB<span class="c1">.</span>x<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_271" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;271&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_271"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">float</span> c <span class="c1">=</span> <span class="c1">(</span><span class="c1">(</span>pos<span class="c1">.</span>x<span class="c1">-</span>triC<span class="c1">.</span>x<span class="c1">)</span> <span class="c1">*</span> <span class="c1">(</span>triA<span class="c1">.</span>y<span class="c1">-</span>triC<span class="c1">.</span>y<span class="c1">)</span><span class="c1">)</span> <span class="c1">-</span></span></div></td></tr>
<tr><td valign="top" id="L_0_272" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;272&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_272"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">(</span><span class="c1">(</span>pos<span class="c1">.</span>y<span class="c1">-</span>triC<span class="c1">.</span>y<span class="c1">)</span> <span class="c1">*</span> <span class="c1">(</span>triA<span class="c1">.</span>x<span class="c1">-</span>triC<span class="c1">.</span>x<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_273" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;273&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_273"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_274" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;274&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_274"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">return</span> <span class="c1">(</span>a <span class="c1">&lt;</span> <span class="c4">0</span> <span class="c1">&amp;&amp;</span> b <span class="c1">&lt;</span> <span class="c4">0</span> <span class="c1">&amp;&amp;</span> c <span class="c1">&lt;</span> <span class="c4">0</span><span class="c1">)</span> <span class="c1">||</span> <span class="c1">(</span>a <span class="c1">&gt;</span> <span class="c4">0</span> <span class="c1">&amp;&amp;</span> b <span class="c1">&gt;</span> <span class="c4">0</span> <span class="c1">&amp;&amp;</span> c <span class="c1">&gt;</span> <span class="c4">0</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_275" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;275&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_275"><span class="rt">&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_276" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;276&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_276"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_277" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;277&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_277"><span class="rt">&nbsp; <span class="c2">private</span> <span class="c2">void</span> <span class="c6">Reflect</span><span class="c1">(</span><span class="b c7">ReflectionLine</span> <span class="c4">line</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_278" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;278&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_278"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_279" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;279&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_279"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="b c7">List</span><span class="c1">&lt;</span><span class="b c7">Triangle</span><span class="c1">&gt;</span> newTris <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">List</span><span class="c1">&lt;</span><span class="b c7">Triangle</span><span class="c1">&gt;</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_280" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;280&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_280"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">for</span> <span class="c1">(</span><span class="c2">int</span> iTri <span class="c1">=</span> <span class="c4">0</span><span class="c1">;</span> iTri <span class="c1">&lt;</span> triangles<span class="c1">.</span>Count<span class="c1">;</span> <span class="c1">++</span>iTri<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_281" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;281&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_281"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_282" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;282&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_282"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">Triangle</span> tri <span class="c1">=</span> triangles<span class="c1">[</span>iTri<span class="c1">]</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_283" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;283&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_283"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_284" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;284&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_284"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">int</span> positive <span class="c1">=</span> <span class="c4">0</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_285" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;285&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_285"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">int</span> negative <span class="c1">=</span> <span class="c4">0</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_286" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;286&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_286"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_287" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;287&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_287"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">float</span> distA <span class="c1">=</span> <span class="c6">LineDistance</span><span class="c1">(</span>line<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_288" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;288&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_288"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">float</span> distB <span class="c1">=</span> <span class="c6">LineDistance</span><span class="c1">(</span>line<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_289" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;289&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_289"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">float</span> distC <span class="c1">=</span> <span class="c6">LineDistance</span><span class="c1">(</span>line<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_290" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;290&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_290"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_291" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;291&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_291"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>distA <span class="c1">&lt;</span> <span class="c4">0</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_292" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;292&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_292"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_293" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;293&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_293"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">++</span>negative<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_294" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;294&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_294"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_295" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;295&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_295"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">else if</span> <span class="c1">(</span>distA <span class="c1">&gt;</span> <span class="c4">0</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_296" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;296&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_296"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_297" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;297&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_297"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">++</span>positive<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_298" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;298&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_298"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_299" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;299&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_299"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_300" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;300&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_300"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>distB <span class="c1">&lt;</span> <span class="c4">0</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_301" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;301&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_301"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_302" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;302&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_302"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">++</span>negative<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_303" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;303&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_303"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_304" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;304&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_304"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">else if</span> <span class="c1">(</span>distB <span class="c1">&gt;</span> <span class="c4">0</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_305" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;305&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_305"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_306" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;306&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_306"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">++</span>positive<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_307" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;307&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_307"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_308" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;308&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_308"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_309" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;309&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_309"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>distC <span class="c1">&lt;</span> <span class="c4">0</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_310" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;310&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_310"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_311" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;311&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_311"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">++</span>negative<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_312" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;312&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_312"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_313" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;313&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_313"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">else if</span> <span class="c1">(</span>distC <span class="c1">&gt;</span> <span class="c4">0</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_314" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;314&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_314"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_315" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;315&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_315"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">++</span>positive<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_316" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;316&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_316"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_317" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;317&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_317"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_318" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;318&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_318"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>negative <span class="c1">==</span> <span class="c4">1</span> <span class="c1">&amp;&amp;</span> positive <span class="c1">==</span> <span class="c4">1</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_319" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;319&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_319"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_320" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;320&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_320"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> Add one new point!</span></span></div></td></tr>
<tr><td valign="top" id="L_0_321" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;321&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_321"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">Vector2</span> intersect<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_322" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;322&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_322"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">Vector2</span> uvIntersect<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_323" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;323&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_323"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>distA <span class="c1">==</span> <span class="c4">0</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_324" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;324&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_324"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_325" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;325&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_325"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; intersect <span class="c1">=</span> <span class="c6">LineIntersection</span><span class="c1">(</span>line<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">.</span>x<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">.</span>y<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">.</span>x<span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_326" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;326&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_326"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">.</span>y<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_327" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;327&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_327"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uvIntersect <span class="c1">=</span> Vector2<span class="c1">.</span><span class="c6">Lerp</span><span class="c1">(</span>tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">,</span> <span class="c6">GetInterp</span><span class="c1">(</span>tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_328" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;328&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_328"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; intersect<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_329" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;329&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_329"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_330" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;330&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_330"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">else if</span> <span class="c1">(</span>distB <span class="c1">==</span> <span class="c4">0</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_331" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;331&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_331"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_332" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;332&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_332"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; intersect <span class="c1">=</span> <span class="c6">LineIntersection</span><span class="c1">(</span>line<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">.</span>x<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">.</span>y<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">.</span>x<span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_333" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;333&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_333"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">.</span>y<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_334" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;334&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_334"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uvIntersect <span class="c1">=</span> Vector2<span class="c1">.</span><span class="c6">Lerp</span><span class="c1">(</span>tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">,</span> <span class="c6">GetInterp</span><span class="c1">(</span>tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_335" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;335&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_335"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; intersect<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_336" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;336&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_336"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_337" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;337&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_337"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">else</span></span></div></td></tr>
<tr><td valign="top" id="L_0_338" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;338&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_338"><span class="rt"><span class="c2"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_339" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;339&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_339"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; intersect <span class="c1">=</span> <span class="c6">LineIntersection</span><span class="c1">(</span>line<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">.</span>x<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">.</span>y<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">.</span>x<span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_340" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;340&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_340"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">.</span>y<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_341" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;341&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_341"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uvIntersect <span class="c1">=</span> Vector2<span class="c1">.</span><span class="c6">Lerp</span><span class="c1">(</span>tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">,</span> <span class="c6">GetInterp</span><span class="c1">(</span>tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_342" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;342&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_342"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; intersect<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_343" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;343&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_343"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_344" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;344&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_344"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_345" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;345&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_345"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">bool</span> foldA <span class="c1">=</span> <span class="c4">false</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_346" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;346&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_346"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">bool</span> foldB <span class="c1">=</span> <span class="c4">false</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_347" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;347&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_347"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">bool</span> foldC <span class="c1">=</span> <span class="c4">false</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_348" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;348&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_348"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>distA <span class="c1">&lt;</span> <span class="c4">0</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_349" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;349&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_349"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_350" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;350&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_350"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span> <span class="c1">=</span> <span class="c6">LineReflect</span><span class="c1">(</span>line<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_351" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;351&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_351"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; foldA <span class="c1">=</span> <span class="c4">true</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_352" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;352&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_352"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_353" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;353&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_353"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">else if</span> <span class="c1">(</span>distB <span class="c1">&lt;</span> <span class="c4">0</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_354" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;354&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_354"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_355" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;355&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_355"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span> <span class="c1">=</span> <span class="c6">LineReflect</span><span class="c1">(</span>line<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_356" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;356&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_356"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; foldB <span class="c1">=</span> <span class="c4">true</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_357" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;357&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_357"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_358" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;358&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_358"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">else</span></span></div></td></tr>
<tr><td valign="top" id="L_0_359" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;359&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_359"><span class="rt"><span class="c2"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_360" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;360&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_360"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span> <span class="c1">=</span> <span class="c6">LineReflect</span><span class="c1">(</span>line<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_361" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;361&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_361"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; foldC <span class="c1">=</span> <span class="c4">true</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_362" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;362&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_362"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_363" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;363&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_363"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_364" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;364&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_364"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .</span></span></div></td></tr>
<tr><td valign="top" id="L_0_365" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;365&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_365"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .</span></span></div></td></tr>
<tr><td valign="top" id="L_0_366" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;366&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_366"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; A</span></span></div></td></tr>
<tr><td valign="top" id="L_0_367" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;367&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_367"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /.\</span></span></div></td></tr>
<tr><td valign="top" id="L_0_368" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;368&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_368"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; / . \</span></span></div></td></tr>
<tr><td valign="top" id="L_0_369" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;369&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_369"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5">&nbsp;&nbsp;&nbsp;&nbsp; /&nbsp; .&nbsp; \</span></span></div></td></tr>
<tr><td valign="top" id="L_0_370" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;370&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_370"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5">&nbsp;&nbsp;&nbsp; C---i---B</span></span></div></td></tr>
<tr><td valign="top" id="L_0_371" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;371&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_371"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .</span></span></div></td></tr>
<tr><td valign="top" id="L_0_372" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;372&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_372"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .</span></span></div></td></tr>
<tr><td valign="top" id="L_0_373" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;373&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_373"><span class="rt"><span class="b empty_text" style=" color: #E7A218;">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_374" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;374&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_374"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span><span class="c1">(</span>distA <span class="c1">!=</span> <span class="c4">0</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_375" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;375&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_375"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_376" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;376&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_376"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> IBC</span></span></div></td></tr>
<tr><td valign="top" id="L_0_377" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;377&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_377"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; newTris<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span><span class="c1">new</span> <span class="b c7">Triangle</span><span class="c1">(</span>intersect<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_378" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;378&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_378"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uvIntersect<span class="c1">,</span> tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">,</span>&nbsp;&nbsp; tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_379" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;379&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_379"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>folds <span class="c1">|</span> <span class="c1">(</span><span class="c1">(</span>foldB <span class="c1">||</span> foldC<span class="c1">)</span> <span class="c1">?</span> <span class="c1">(</span><span class="c4">1</span><span class="c1">&lt;&lt;</span>foldCount<span class="c1">)</span> <span class="c1">:</span> <span class="c4">0</span><span class="c1">)</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_380" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;380&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_380"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">(</span>foldB <span class="c1">||</span> foldC<span class="c1">)</span> <span class="c1">?</span> <span class="c1">!</span>tri<span class="c1">.</span>faceUp <span class="c1">:</span> tri<span class="c1">.</span>faceUp<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_381" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;381&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_381"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_382" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;382&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_382"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span><span class="c1">(</span>distB <span class="c1">!=</span> <span class="c4">0</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_383" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;383&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_383"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_384" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;384&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_384"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> AIC</span></span></div></td></tr>
<tr><td valign="top" id="L_0_385" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;385&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_385"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; newTris<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span><span class="c1">new</span> <span class="b c7">Triangle</span><span class="c1">(</span>tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">,</span> intersect<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_386" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;386&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_386"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">,</span> uvIntersect<span class="c1">,</span> tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_387" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;387&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_387"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>folds <span class="c1">|</span> <span class="c1">(</span><span class="c1">(</span>foldA <span class="c1">||</span> foldC<span class="c1">)</span> <span class="c1">?</span> <span class="c1">(</span><span class="c4">1</span><span class="c1">&lt;&lt;</span>foldCount<span class="c1">)</span> <span class="c1">:</span> <span class="c4">0</span><span class="c1">)</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_388" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;388&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_388"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">(</span>foldA <span class="c1">||</span> foldC<span class="c1">)</span> <span class="c1">?</span> <span class="c1">!</span>tri<span class="c1">.</span>faceUp <span class="c1">:</span> tri<span class="c1">.</span>faceUp<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_389" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;389&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_389"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_390" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;390&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_390"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span><span class="c1">(</span>distC <span class="c1">!=</span> <span class="c4">0</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_391" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;391&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_391"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_392" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;392&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_392"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> ABI</span></span></div></td></tr>
<tr><td valign="top" id="L_0_393" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;393&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_393"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; newTris<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span><span class="c1">new</span> <span class="b c7">Triangle</span><span class="c1">(</span>tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">,</span> intersect<span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_394" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;394&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_394"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">,</span>&nbsp;&nbsp; tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">,</span> uvIntersect<span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_395" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;395&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_395"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>folds <span class="c1">|</span> <span class="c1">(</span><span class="c1">(</span>foldA <span class="c1">||</span> foldB<span class="c1">)</span> <span class="c1">?</span> <span class="c1">(</span><span class="c4">1</span><span class="c1">&lt;&lt;</span>foldCount<span class="c1">)</span> <span class="c1">:</span> <span class="c4">0</span><span class="c1">)</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_396" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;396&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_396"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">(</span>foldA <span class="c1">||</span> foldB<span class="c1">)</span> <span class="c1">?</span> <span class="c1">!</span>tri<span class="c1">.</span>faceUp <span class="c1">:</span> tri<span class="c1">.</span>faceUp<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_397" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;397&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_397"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_398" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;398&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_398"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_399" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;399&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_399"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">else if</span> <span class="c1">(</span><span class="c1">(</span>negative <span class="c1">==</span> <span class="c4">1</span> <span class="c1">&amp;&amp;</span> positive <span class="c1">==</span> <span class="c4">2</span><span class="c1">)</span> <span class="c1">||</span> <span class="c1">(</span>negative <span class="c1">==</span> <span class="c4">2</span> <span class="c1">&amp;&amp;</span> positive <span class="c1">==</span> <span class="c4">1</span><span class="c1">)</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_400" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;400&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_400"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_401" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;401&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_401"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> Add two new points!</span></span></div></td></tr>
<tr><td valign="top" id="L_0_402" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;402&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_402"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">Vector2</span> int1<span class="c1">,</span> int2<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_403" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;403&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_403"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">Vector2</span> uvInt1<span class="c1">,</span> uvInt2<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_404" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;404&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_404"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">int</span> loneIndex<span class="c1">,</span> attachIndex<span class="c1">,</span> remainingIndex<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_405" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;405&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_405"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>Mathf<span class="c1">.</span><span class="c6">Sign</span><span class="c1">(</span>distB<span class="c1">)</span> <span class="c1">==</span> Mathf<span class="c1">.</span><span class="c6">Sign</span><span class="c1">(</span>distC<span class="c1">)</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_406" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;406&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_406"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_407" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;407&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_407"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int1 <span class="c1">=</span> <span class="c6">LineIntersection</span><span class="c1">(</span>line<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">.</span>x<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">.</span>y<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">.</span>x<span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_408" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;408&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_408"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">.</span>y<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_409" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;409&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_409"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uvInt1 <span class="c1">=</span> Vector2<span class="c1">.</span><span class="c6">Lerp</span><span class="c1">(</span>tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">,</span> <span class="c6">GetInterp</span><span class="c1">(</span>tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_410" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;410&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_410"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int1<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_411" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;411&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_411"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int2 <span class="c1">=</span> <span class="c6">LineIntersection</span><span class="c1">(</span>line<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">.</span>x<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">.</span>y<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">.</span>x<span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_412" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;412&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_412"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">.</span>y<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_413" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;413&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_413"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uvInt2 <span class="c1">=</span> Vector2<span class="c1">.</span><span class="c6">Lerp</span><span class="c1">(</span>tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">,</span> <span class="c6">GetInterp</span><span class="c1">(</span>tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_414" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;414&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_414"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int2<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_415" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;415&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_415"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; loneIndex <span class="c1">=</span> <span class="c4">0</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_416" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;416&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_416"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; attachIndex <span class="c1">=</span> <span class="c4">1</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_417" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;417&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_417"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; remainingIndex <span class="c1">=</span> <span class="c4">2</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_418" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;418&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_418"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_419" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;419&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_419"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">else if</span> <span class="c1">(</span>Mathf<span class="c1">.</span><span class="c6">Sign</span><span class="c1">(</span>distA<span class="c1">)</span> <span class="c1">==</span> Mathf<span class="c1">.</span><span class="c6">Sign</span><span class="c1">(</span>distC<span class="c1">)</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_420" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;420&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_420"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_421" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;421&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_421"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int1 <span class="c1">=</span> <span class="c6">LineIntersection</span><span class="c1">(</span>line<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">.</span>x<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">.</span>y<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">.</span>x<span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_422" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;422&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_422"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">.</span>y<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_423" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;423&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_423"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uvInt1 <span class="c1">=</span> Vector2<span class="c1">.</span><span class="c6">Lerp</span><span class="c1">(</span>tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">,</span> <span class="c6">GetInterp</span><span class="c1">(</span>tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_424" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;424&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_424"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int1<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_425" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;425&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_425"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int2 <span class="c1">=</span> <span class="c6">LineIntersection</span><span class="c1">(</span>line<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">.</span>x<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">.</span>y<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">.</span>x<span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_426" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;426&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_426"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">.</span>y<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_427" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;427&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_427"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uvInt2 <span class="c1">=</span> Vector2<span class="c1">.</span><span class="c6">Lerp</span><span class="c1">(</span>tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">,</span> <span class="c6">GetInterp</span><span class="c1">(</span>tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_428" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;428&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_428"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int2<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_429" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;429&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_429"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; loneIndex <span class="c1">=</span> <span class="c4">1</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_430" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;430&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_430"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; attachIndex <span class="c1">=</span> <span class="c4">2</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_431" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;431&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_431"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; remainingIndex <span class="c1">=</span> <span class="c4">0</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_432" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;432&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_432"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_433" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;433&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_433"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">else</span></span></div></td></tr>
<tr><td valign="top" id="L_0_434" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;434&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_434"><span class="rt"><span class="c2"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_435" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;435&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_435"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int1 <span class="c1">=</span> <span class="c6">LineIntersection</span><span class="c1">(</span>line<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">.</span>x<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">.</span>y<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">.</span>x<span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_436" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;436&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_436"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">.</span>y<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_437" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;437&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_437"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uvInt1 <span class="c1">=</span> Vector2<span class="c1">.</span><span class="c6">Lerp</span><span class="c1">(</span>tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">,</span> <span class="c6">GetInterp</span><span class="c1">(</span>tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_438" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;438&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_438"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int1<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_439" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;439&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_439"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int2 <span class="c1">=</span> <span class="c6">LineIntersection</span><span class="c1">(</span>line<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">.</span>x<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">.</span>y<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">.</span>x<span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_440" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;440&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_440"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">.</span>y<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_441" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;441&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_441"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uvInt2 <span class="c1">=</span> Vector2<span class="c1">.</span><span class="c6">Lerp</span><span class="c1">(</span>tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">,</span> <span class="c6">GetInterp</span><span class="c1">(</span>tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_442" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;442&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_442"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int2<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_443" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;443&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_443"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; loneIndex <span class="c1">=</span> <span class="c4">2</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_444" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;444&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_444"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; attachIndex <span class="c1">=</span> <span class="c4">0</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_445" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;445&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_445"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; remainingIndex <span class="c1">=</span> <span class="c4">1</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_446" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;446&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_446"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_447" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;447&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_447"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_448" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;448&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_448"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">bool</span> foldA <span class="c1">=</span> <span class="c4">false</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_449" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;449&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_449"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">bool</span> foldB <span class="c1">=</span> <span class="c4">false</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_450" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;450&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_450"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">bool</span> foldC <span class="c1">=</span> <span class="c4">false</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_451" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;451&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_451"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>distA <span class="c1">&lt;</span> <span class="c4">0</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_452" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;452&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_452"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_453" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;453&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_453"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span> <span class="c1">=</span> <span class="c6">LineReflect</span><span class="c1">(</span>line<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_454" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;454&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_454"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; foldA <span class="c1">=</span> <span class="c4">true</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_455" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;455&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_455"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_456" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;456&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_456"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>distB <span class="c1">&lt;</span> <span class="c4">0</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_457" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;457&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_457"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_458" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;458&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_458"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span> <span class="c1">=</span> <span class="c6">LineReflect</span><span class="c1">(</span>line<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_459" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;459&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_459"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; foldB <span class="c1">=</span> <span class="c4">true</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_460" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;460&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_460"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_461" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;461&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_461"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>distC <span class="c1">&lt;</span> <span class="c4">0</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_462" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;462&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_462"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_463" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;463&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_463"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span> <span class="c1">=</span> <span class="c6">LineReflect</span><span class="c1">(</span>line<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_464" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;464&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_464"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; foldC <span class="c1">=</span> <span class="c4">true</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_465" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;465&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_465"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_466" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;466&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_466"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_467" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;467&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_467"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; L</span></span></div></td></tr>
<tr><td valign="top" id="L_0_468" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;468&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_468"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; / \</span></span></div></td></tr>
<tr><td valign="top" id="L_0_469" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;469&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_469"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5">&nbsp;&nbsp; ...1...2...</span></span></div></td></tr>
<tr><td valign="top" id="L_0_470" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;470&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_470"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5">&nbsp;&nbsp;&nbsp;&nbsp; / ~~&nbsp; \</span></span></div></td></tr>
<tr><td valign="top" id="L_0_471" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;471&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_471"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5">&nbsp;&nbsp;&nbsp; /&nbsp;&nbsp;&nbsp; ~~ \</span></span></div></td></tr>
<tr><td valign="top" id="L_0_472" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;472&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_472"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5">&nbsp;&nbsp; R---------A</span></span></div></td></tr>
<tr><td valign="top" id="L_0_473" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;473&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_473"><span class="rt"><span class="b empty_text" style=" color: #E7A218;">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_474" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;474&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_474"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> 1L2</span></span></div></td></tr>
<tr><td valign="top" id="L_0_475" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;475&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_475"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">bool</span> needsFold <span class="c1">=</span> <span class="c1">(</span><span class="c1">(</span>loneIndex <span class="c1">==</span> <span class="c4">0</span> <span class="c1">&amp;&amp;</span> foldA<span class="c1">)</span> <span class="c1">||</span> <span class="c1">(</span>loneIndex <span class="c1">==</span> <span class="c4">1</span> <span class="c1">&amp;&amp;</span> foldB<span class="c1">)</span> <span class="c1">||</span></span></div></td></tr>
<tr><td valign="top" id="L_0_476" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;476&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_476"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">(</span>loneIndex <span class="c1">==</span> <span class="c4">2</span> <span class="c1">&amp;&amp;</span> foldC<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_477" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;477&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_477"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; newTris<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span><span class="c1">new</span> <span class="b c7">Triangle</span><span class="c1">(</span>&nbsp; int1<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span>loneIndex<span class="c1">]</span><span class="c1">,</span>&nbsp;&nbsp; int2<span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_478" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;478&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_478"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uvInt1<span class="c1">,</span>&nbsp;&nbsp; tri<span class="c1">.</span>uvs<span class="c1">[</span>loneIndex<span class="c1">]</span><span class="c1">,</span> uvInt2<span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_479" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;479&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_479"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>folds <span class="c1">|</span> <span class="c1">(</span>needsFold <span class="c1">?</span> <span class="c1">(</span><span class="c4">1</span><span class="c1">&lt;&lt;</span>foldCount<span class="c1">)</span> <span class="c1">:</span> <span class="c4">0</span><span class="c1">)</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_480" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;480&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_480"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; needsFold <span class="c1">?</span> <span class="c1">!</span>tri<span class="c1">.</span>faceUp <span class="c1">:</span> tri<span class="c1">.</span>faceUp<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_481" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;481&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_481"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> A12</span></span></div></td></tr>
<tr><td valign="top" id="L_0_482" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;482&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_482"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; needsFold <span class="c1">=</span> <span class="c1">(</span><span class="c1">(</span>attachIndex <span class="c1">==</span> <span class="c4">0</span> <span class="c1">&amp;&amp;</span> foldA<span class="c1">)</span> <span class="c1">||</span> <span class="c1">(</span>attachIndex <span class="c1">==</span> <span class="c4">1</span> <span class="c1">&amp;&amp;</span> foldB<span class="c1">)</span> <span class="c1">||</span></span></div></td></tr>
<tr><td valign="top" id="L_0_483" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;483&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_483"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">(</span>attachIndex <span class="c1">==</span> <span class="c4">2</span> <span class="c1">&amp;&amp;</span> foldC<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_484" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;484&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_484"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; newTris<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span><span class="c1">new</span> <span class="b c7">Triangle</span><span class="c1">(</span>tri<span class="c1">.</span>verts<span class="c1">[</span>attachIndex<span class="c1">]</span><span class="c1">,</span>&nbsp;&nbsp; int1<span class="c1">,</span>&nbsp;&nbsp; int2<span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_485" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;485&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_485"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>uvs<span class="c1">[</span>attachIndex<span class="c1">]</span><span class="c1">,</span> uvInt1<span class="c1">,</span> uvInt2<span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_486" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;486&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_486"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>folds <span class="c1">|</span> <span class="c1">(</span>needsFold <span class="c1">?</span> <span class="c1">(</span><span class="c4">1</span><span class="c1">&lt;&lt;</span>foldCount<span class="c1">)</span> <span class="c1">:</span> <span class="c4">0</span><span class="c1">)</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_487" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;487&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_487"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; needsFold <span class="c1">?</span> <span class="c1">!</span>tri<span class="c1">.</span>faceUp <span class="c1">:</span> tri<span class="c1">.</span>faceUp<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_488" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;488&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_488"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> AR1</span></span></div></td></tr>
<tr><td valign="top" id="L_0_489" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;489&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_489"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; needsFold <span class="c1">=</span> <span class="c1">(</span><span class="c1">(</span>attachIndex <span class="c1">==</span> <span class="c4">0</span> <span class="c1">&amp;&amp;</span> foldA<span class="c1">)</span> <span class="c1">||</span> <span class="c1">(</span>attachIndex <span class="c1">==</span> <span class="c4">1</span> <span class="c1">&amp;&amp;</span> foldB<span class="c1">)</span> <span class="c1">||</span></span></div></td></tr>
<tr><td valign="top" id="L_0_490" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;490&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_490"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">(</span>attachIndex <span class="c1">==</span> <span class="c4">2</span> <span class="c1">&amp;&amp;</span> foldC<span class="c1">)</span> <span class="c1">||</span> <span class="c1">(</span>remainingIndex <span class="c1">==</span> <span class="c4">0</span> <span class="c1">&amp;&amp;</span> foldA<span class="c1">)</span> <span class="c1">||</span></span></div></td></tr>
<tr><td valign="top" id="L_0_491" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;491&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_491"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">(</span>remainingIndex <span class="c1">==</span> <span class="c4">1</span> <span class="c1">&amp;&amp;</span> foldB<span class="c1">)</span> <span class="c1">||</span> <span class="c1">(</span>remainingIndex <span class="c1">==</span> <span class="c4">2</span> <span class="c1">&amp;&amp;</span> foldC<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_492" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;492&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_492"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; newTris<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span><span class="c1">new</span> <span class="b c7">Triangle</span><span class="c1">(</span>tri<span class="c1">.</span>verts<span class="c1">[</span>attachIndex<span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span>remainingIndex<span class="c1">]</span><span class="c1">,</span>&nbsp;&nbsp; int1<span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_493" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;493&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_493"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>uvs<span class="c1">[</span>attachIndex<span class="c1">]</span><span class="c1">,</span>&nbsp;&nbsp; tri<span class="c1">.</span>uvs<span class="c1">[</span>remainingIndex<span class="c1">]</span><span class="c1">,</span> uvInt1<span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_494" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;494&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_494"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>folds <span class="c1">|</span> <span class="c1">(</span>needsFold <span class="c1">?</span> <span class="c1">(</span><span class="c4">1</span><span class="c1">&lt;&lt;</span>foldCount<span class="c1">)</span> <span class="c1">:</span> <span class="c4">0</span><span class="c1">)</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_495" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;495&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_495"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; needsFold <span class="c1">?</span> <span class="c1">!</span>tri<span class="c1">.</span>faceUp <span class="c1">:</span> tri<span class="c1">.</span>faceUp<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_496" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;496&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_496"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_497" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;497&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_497"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">else</span></span></div></td></tr>
<tr><td valign="top" id="L_0_498" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;498&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_498"><span class="rt"><span class="c2"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_499" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;499&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_499"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">bool</span> fold <span class="c1">=</span> <span class="c4">false</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_500" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;500&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_500"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>distA <span class="c1">&lt;</span> <span class="c4">0</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_501" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;501&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_501"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_502" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;502&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_502"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span> <span class="c1">=</span> <span class="c6">LineReflect</span><span class="c1">(</span>line<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_503" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;503&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_503"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fold <span class="c1">=</span> <span class="c4">true</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_504" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;504&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_504"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_505" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;505&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_505"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>distB <span class="c1">&lt;</span> <span class="c4">0</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_506" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;506&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_506"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_507" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;507&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_507"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span> <span class="c1">=</span> <span class="c6">LineReflect</span><span class="c1">(</span>line<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_508" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;508&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_508"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fold <span class="c1">=</span> <span class="c4">true</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_509" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;509&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_509"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_510" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;510&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_510"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>distC <span class="c1">&lt;</span> <span class="c4">0</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_511" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;511&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_511"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_512" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;512&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_512"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span> <span class="c1">=</span> <span class="c6">LineReflect</span><span class="c1">(</span>line<span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_513" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;513&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_513"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fold <span class="c1">=</span> <span class="c4">true</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_514" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;514&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_514"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_515" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;515&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_515"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>fold<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_516" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;516&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_516"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_517" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;517&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_517"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>folds <span class="c1">|=</span> <span class="c1">(</span><span class="c4">1</span><span class="c1">&lt;&lt;</span>foldCount<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_518" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;518&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_518"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>faceUp <span class="c1">=</span> <span class="c1">!</span>tri<span class="c1">.</span>faceUp<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_519" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;519&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_519"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_520" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;520&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_520"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; newTris<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span>tri<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_521" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;521&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_521"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_522" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;522&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_522"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_523" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;523&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_523"><span class="rt">&nbsp;&nbsp;&nbsp; triangles <span class="c1">=</span> newTris<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_524" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;524&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_524"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_525" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;525&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_525"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c6">UpdateMesh</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_526" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;526&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_526"><span class="rt">&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_527" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;527&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_527"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_528" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;528&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_528"><span class="rt">&nbsp; <span class="c2">private</span> <span class="b c7">List</span><span class="c1">&lt;</span><span class="b c7">Triangle</span><span class="c1">&gt;</span> <span class="c6">CopyTriangles</span><span class="c1">(</span><span class="b c7">List</span><span class="c1">&lt;</span><span class="b c7">Triangle</span><span class="c1">&gt;</span> <span class="c4">from</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_529" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;529&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_529"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_530" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;530&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_530"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> </span><span class="b c5">TODO</span><span class="b c5"> (hitch) 5-10-18 PERFORMANCE Maybe we can remove all the List&lt;&gt;'s ^_^</span></span></div></td></tr>
<tr><td valign="top" id="L_0_531" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;531&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_531"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp; <span class="b c7">List</span><span class="c1">&lt;</span><span class="b c7">Triangle</span><span class="c1">&gt;</span> ret <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">List</span><span class="c1">&lt;</span><span class="b c7">Triangle</span><span class="c1">&gt;</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_532" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;532&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_532"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">for</span> <span class="c1">(</span><span class="c2">int</span> i <span class="c1">=</span> <span class="c4">0</span><span class="c1">;</span> i <span class="c1">&lt;</span> from<span class="c1">.</span>Count<span class="c1">;</span> <span class="c1">++</span>i<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_533" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;533&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_533"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_534" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;534&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_534"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ret<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span><span class="c1">new</span> <span class="b c7">Triangle</span><span class="c1">(</span>from<span class="c1">[</span>i<span class="c1">]</span><span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_535" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;535&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_535"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_536" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;536&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_536"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">return</span> ret<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_537" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;537&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_537"><span class="rt">&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_538" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;538&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_538"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_539" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;539&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_539"><span class="rt">&nbsp; <span class="c2">private</span> <span class="b c7">Vector2</span> <span class="c6">LineIntersection</span><span class="c1">(</span><span class="b c7">ReflectionLine</span> <span class="c4">line</span><span class="c1">,</span> <span class="c2">float</span> <span class="c4">x1</span><span class="c1">,</span> <span class="c2">float</span> <span class="c4">y1</span><span class="c1">,</span> <span class="c2">float</span> <span class="c4">x2</span><span class="c1">,</span> <span class="c2">float</span> <span class="c4">y2</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_540" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;540&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_540"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_541" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;541&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_541"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">float</span> x3 <span class="c1">=</span> line<span class="c1">.</span>posA<span class="c1">.</span>x<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_542" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;542&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_542"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">float</span> y3 <span class="c1">=</span> line<span class="c1">.</span>posA<span class="c1">.</span>y<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_543" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;543&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_543"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">float</span> x4 <span class="c1">=</span> line<span class="c1">.</span>posB<span class="c1">.</span>x<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_544" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;544&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_544"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">float</span> y4 <span class="c1">=</span> line<span class="c1">.</span>posB<span class="c1">.</span>y<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_545" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;545&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_545"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_546" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;546&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_546"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">float</span> x <span class="c1">=</span> <span class="c1">(</span><span class="c1">(</span><span class="c1">(</span>x1<span class="c1">*</span>y2 <span class="c1">-</span> y1<span class="c1">*</span>x2<span class="c1">)</span><span class="c1">*</span><span class="c1">(</span>x3<span class="c1">-</span>x4<span class="c1">)</span><span class="c1">)</span> <span class="c1">-</span> <span class="c1">(</span><span class="c1">(</span>x1<span class="c1">-</span>x2<span class="c1">)</span><span class="c1">*</span><span class="c1">(</span>x3<span class="c1">*</span>y4 <span class="c1">-</span> y3<span class="c1">*</span>x4<span class="c1">)</span><span class="c1">)</span><span class="c1">)</span> <span class="c1">/</span></span></div></td></tr>
<tr><td valign="top" id="L_0_547" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;547&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_547"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">(</span><span class="c1">(</span><span class="c1">(</span>x1 <span class="c1">-</span> x2<span class="c1">)</span><span class="c1">*</span><span class="c1">(</span>y3 <span class="c1">-</span> y4<span class="c1">)</span><span class="c1">)</span> <span class="c1">-</span> <span class="c1">(</span><span class="c1">(</span>y1 <span class="c1">-</span> y2<span class="c1">)</span><span class="c1">*</span><span class="c1">(</span>x3 <span class="c1">-</span> x4<span class="c1">)</span><span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_548" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;548&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_548"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">float</span> y <span class="c1">=</span> <span class="c1">(</span><span class="c1">(</span><span class="c1">(</span>x1<span class="c1">*</span>y2 <span class="c1">-</span> y1<span class="c1">*</span>x2<span class="c1">)</span><span class="c1">*</span><span class="c1">(</span>y3<span class="c1">-</span>y4<span class="c1">)</span><span class="c1">)</span> <span class="c1">-</span> <span class="c1">(</span><span class="c1">(</span>y1<span class="c1">-</span>y2<span class="c1">)</span><span class="c1">*</span><span class="c1">(</span>x3<span class="c1">*</span>y4 <span class="c1">-</span> y3<span class="c1">*</span>x4<span class="c1">)</span><span class="c1">)</span><span class="c1">)</span> <span class="c1">/</span></span></div></td></tr>
<tr><td valign="top" id="L_0_549" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;549&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_549"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">(</span><span class="c1">(</span><span class="c1">(</span>x1 <span class="c1">-</span> x2<span class="c1">)</span><span class="c1">*</span><span class="c1">(</span>y3 <span class="c1">-</span> y4<span class="c1">)</span><span class="c1">)</span> <span class="c1">-</span> <span class="c1">(</span><span class="c1">(</span>y1 <span class="c1">-</span> y2<span class="c1">)</span><span class="c1">*</span><span class="c1">(</span>x3 <span class="c1">-</span> x4<span class="c1">)</span><span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_550" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;550&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_550"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">return</span> <span class="c1">new</span> <span class="b c7">Vector2</span><span class="c1">(</span>x<span class="c1">,</span> y<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_551" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;551&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_551"><span class="rt">&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_552" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;552&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_552"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_553" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;553&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_553"><span class="rt">&nbsp; <span class="c2">private</span> <span class="c2">float</span> <span class="c6">GetInterp</span><span class="c1">(</span><span class="b c7">Vector3</span> <span class="c4">a</span><span class="c1">,</span> <span class="b c7">Vector3</span> <span class="c4">b</span><span class="c1">,</span> <span class="b c7">Vector2</span> <span class="c4">i</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_554" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;554&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_554"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_555" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;555&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_555"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">float</span> dX <span class="c1">=</span> b<span class="c1">.</span>x <span class="c1">-</span> a<span class="c1">.</span>x<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_556" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;556&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_556"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>dX <span class="c1">&gt;</span> <span class="c1">-</span><span class="c4">0.001</span><span class="c2">f</span> <span class="c1">&amp;&amp;</span> dX <span class="c1">&lt;</span> <span class="c4">0.001</span><span class="c2">f</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_557" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;557&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_557"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_558" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;558&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_558"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">float</span> dY <span class="c1">=</span> b<span class="c1">.</span>y <span class="c1">-</span> a<span class="c1">.</span>y<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_559" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;559&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_559"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>dY <span class="c1">&gt;</span> <span class="c1">-</span><span class="c4">0.001</span><span class="c2">f</span> <span class="c1">&amp;&amp;</span> dY <span class="c1">&lt;</span> <span class="c4">0.001</span><span class="c2">f</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_560" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;560&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_560"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_561" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;561&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_561"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">return</span> <span class="c4">0</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_562" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;562&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_562"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_563" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;563&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_563"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">return</span> <span class="c1">(</span>i<span class="c1">.</span>y <span class="c1">-</span> a<span class="c1">.</span>y<span class="c1">)</span> <span class="c1">/</span> dY<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_564" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;564&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_564"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_565" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;565&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_565"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">return</span> <span class="c1">(</span>i<span class="c1">.</span>x <span class="c1">-</span> a<span class="c1">.</span>x<span class="c1">)</span> <span class="c1">/</span> dX<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_566" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;566&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_566"><span class="rt">&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_567" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;567&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_567"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_568" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;568&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_568"><span class="rt">&nbsp; <span class="c2">private</span> <span class="b c7">ReflectionLine</span> <span class="c6">GetLine</span><span class="c1">(</span><span class="b c7">Vector2</span> <span class="c4">pos</span><span class="c1">,</span> <span class="b c7">Vector2</span> <span class="c4">dir</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_569" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;569&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_569"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_570" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;570&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_570"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="b c7">ReflectionLine</span> line <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">ReflectionLine</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_571" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;571&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_571"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_572" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;572&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_572"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="b c7">Vector3</span> pos3D <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">Vector3</span><span class="c1">(</span>pos<span class="c1">.</span>x<span class="c1">,</span> pos<span class="c1">.</span>y<span class="c1">,</span> <span class="c4">0</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_573" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;573&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_573"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_574" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;574&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_574"><span class="rt">&nbsp;&nbsp;&nbsp; line<span class="c1">.</span>origin <span class="c1">=</span> pos3D<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_575" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;575&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_575"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> </span><span class="b c5">TODO</span><span class="b c5"> (hitch) 5-6-18 TEST THIS ANGLE!!!! Also do we want it in local or world space?</span></span></div></td></tr>
<tr><td valign="top" id="L_0_576" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;576&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_576"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp; line<span class="c1">.</span>angle <span class="c1">=</span> Mathf<span class="c1">.</span><span class="c6">Atan2</span><span class="c1">(</span>dir<span class="c1">.</span>y<span class="c1">,</span> dir<span class="c1">.</span>x<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_577" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;577&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_577"><span class="rt">&nbsp;&nbsp;&nbsp; line<span class="c1">.</span>posA <span class="c1">=</span> pos3D<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_578" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;578&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_578"><span class="rt">&nbsp;&nbsp;&nbsp; line<span class="c1">.</span>posB <span class="c1">=</span> pos3D <span class="c1">+</span> <span class="c1">new</span> <span class="b c7">Vector3</span><span class="c1">(</span><span class="c1">-</span>dir<span class="c1">.</span>y<span class="c1">,</span> dir<span class="c1">.</span>x<span class="c1">,</span> <span class="c4">0</span><span class="c1">)</span><span class="c1">.</span>nized<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_579" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;579&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_579"><span class="rt">&nbsp;&nbsp;&nbsp; line<span class="c1">.</span>n <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">Vector3</span><span class="c1">(</span>dir<span class="c1">.</span>x<span class="c1">,</span> dir<span class="c1">.</span>y<span class="c1">,</span> <span class="c4">0</span><span class="c1">)</span><span class="c1">.</span>nized<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_580" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;580&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_580"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_581" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;581&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_581"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">return</span> line<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_582" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;582&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_582"><span class="rt">&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_583" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;583&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_583"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_584" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;584&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_584"><span class="rt">&nbsp; <span class="c2">private</span> <span class="c2">float</span> <span class="c6">LineDistance</span><span class="c1">(</span><span class="b c7">ReflectionLine</span> <span class="c4">line</span><span class="c1">,</span> <span class="b c7">Vector3</span> <span class="c4">pos</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_585" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;585&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_585"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_586" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;586&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_586"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">float</span> d <span class="c1">=</span> <span class="c1">(</span><span class="c1">(</span>pos<span class="c1">.</span>x<span class="c1">-</span>line<span class="c1">.</span>posA<span class="c1">.</span>x<span class="c1">)</span> <span class="c1">*</span> <span class="c1">(</span>line<span class="c1">.</span>posB<span class="c1">.</span>y<span class="c1">-</span>line<span class="c1">.</span>posA<span class="c1">.</span>y<span class="c1">)</span><span class="c1">)</span> <span class="c1">-</span></span></div></td></tr>
<tr><td valign="top" id="L_0_587" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;587&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_587"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">(</span><span class="c1">(</span>pos<span class="c1">.</span>y<span class="c1">-</span>line<span class="c1">.</span>posA<span class="c1">.</span>y<span class="c1">)</span> <span class="c1">*</span> <span class="c1">(</span>line<span class="c1">.</span>posB<span class="c1">.</span>x<span class="c1">-</span>line<span class="c1">.</span>posA<span class="c1">.</span>x<span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_588" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;588&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_588"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>d <span class="c1">&lt;</span> <span class="c4">0.0001</span><span class="c2">f</span> <span class="c1">&amp;&amp;</span> d <span class="c1">&gt;</span> <span class="c1">-</span><span class="c4">0.0001</span><span class="c2">f</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_589" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;589&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_589"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_590" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;590&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_590"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">return</span> <span class="c4">0</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_591" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;591&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_591"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_592" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;592&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_592"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">return</span> d<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_593" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;593&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_593"><span class="rt">&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_594" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;594&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_594"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_595" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;595&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_595"><span class="rt">&nbsp; <span class="c2">private</span> <span class="b c7">Vector3</span> <span class="c6">LineReflect</span><span class="c1">(</span><span class="b c7">ReflectionLine</span> <span class="c4">line</span><span class="c1">,</span> <span class="b c7">Vector3</span> <span class="c4">pos</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_596" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;596&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_596"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_597" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;597&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_597"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> </span><span class="b c5">TODO</span><span class="b c5"> (hitch) 5-6-18 PERFORMANCE (this distance calculation will always have been done</span></span></div></td></tr>
<tr><td valign="top" id="L_0_598" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;598&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_598"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5">&nbsp;&nbsp; previously!)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_599" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;599&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_599"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp; <span class="c2">float</span> dist <span class="c1">=</span> <span class="c6">LineDistance</span><span class="c1">(</span>line<span class="c1">,</span> pos<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_600" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;600&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_600"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>dist <span class="c1">&lt;</span> <span class="c4">0</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_601" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;601&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_601"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_602" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;602&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_602"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos<span class="c1">.</span>z <span class="c1">=</span> transform<span class="c1">.</span>position<span class="c1">.</span>z <span class="c1">+</span> transform<span class="c1">.</span>position<span class="c1">.</span>z <span class="c1">-</span> pos<span class="c1">.</span>z<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_603" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;603&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_603"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">return</span> pos <span class="c1">+</span> <span class="c1">(</span><span class="c1">(</span><span class="c1">-</span><span class="c4">2</span><span class="c2">f</span> <span class="c1">*</span> dist<span class="c1">)</span> <span class="c1">*</span> line<span class="c1">.</span>n<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_604" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;604&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_604"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_605" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;605&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_605"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">return</span> pos<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_606" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;606&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_606"><span class="rt">&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_607" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;607&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_607"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_608" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;608&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_608"><span class="rt">&nbsp; <span class="b c5">//</span><span class="b c5"> Utilities /////////////////////////////////////////////////////////////////////////////////////</span></span></div></td></tr>
<tr><td valign="top" id="L_0_609" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;609&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_609"><span class="rt"><span class="b empty_text" style=" color: #E7A218;">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_610" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;610&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_610"><span class="rt">&nbsp; <span class="c2">private</span> <span class="c2">void</span> <span class="c6">UpdateMesh</span><span class="c1">(</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_611" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;611&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_611"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_612" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;612&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_612"><span class="rt">&nbsp;&nbsp;&nbsp; UnityEngine<span class="c1">.</span>Profiling<span class="c1">.</span>Profiler<span class="c1">.</span><span class="c6">BeginSample</span><span class="c1">(</span><span class="c1">"</span><span class="c3">Generate Meshes</span><span class="c1">"</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_613" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;613&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_613"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="b c7">List</span><span class="c1">&lt;</span><span class="b c7">Vector3</span><span class="c1">&gt;</span> verts <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">List</span><span class="c1">&lt;</span><span class="b c7">Vector3</span><span class="c1">&gt;</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_614" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;614&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_614"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="b c7">List</span><span class="c1">&lt;</span><span class="b c7">Vector2</span><span class="c1">&gt;</span> uvs <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">List</span><span class="c1">&lt;</span><span class="b c7">Vector2</span><span class="c1">&gt;</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_615" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;615&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_615"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">int</span><span class="c1">[</span><span class="c1">]</span> tris <span class="c1">=</span> <span class="c1">new</span> <span class="c2">int</span><span class="c1">[</span>triangles<span class="c1">.</span>Count <span class="c1">*</span> <span class="c4">3</span><span class="c1">]</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_616" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;616&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_616"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_617" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;617&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_617"><span class="rt">&nbsp;&nbsp;&nbsp; UnityEngine<span class="c1">.</span>Profiling<span class="c1">.</span>Profiler<span class="c1">.</span><span class="c6">BeginSample</span><span class="c1">(</span><span class="c1">"</span><span class="c3">Generate World Mesh</span><span class="c1">"</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_618" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;618&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_618"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="b c7">Dictionary</span><span class="c1">&lt;</span><span class="c2">int</span><span class="c1">,</span> <span class="b c7">List</span><span class="c1">&lt;</span><span class="b c7">VertexData</span><span class="c1">&gt;&gt;</span> data <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">Dictionary</span><span class="c1">&lt;</span><span class="c2">int</span><span class="c1">,</span> <span class="b c7">List</span><span class="c1">&lt;</span><span class="b c7">VertexData</span><span class="c1">&gt;</span><span class="c1">&gt;</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_619" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;619&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_619"><span class="rt">&nbsp;&nbsp;&nbsp; UnityEngine<span class="c1">.</span>Profiling<span class="c1">.</span>Profiler<span class="c1">.</span><span class="c6">BeginSample</span><span class="c1">(</span><span class="c1">"</span><span class="c3">Build Verts</span><span class="c1">"</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_620" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;620&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_620"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">int</span> a <span class="c1">=</span> <span class="c4">0</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_621" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;621&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_621"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">int</span> b <span class="c1">=</span> <span class="c4">1</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_622" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;622&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_622"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">int</span> c <span class="c1">=</span> <span class="c4">2</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_623" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;623&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_623"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">foreach</span> <span class="c1">(</span><span class="b c7">Triangle</span> tri <span class="c2">in</span> triangles<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_624" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;624&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_624"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_625" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;625&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_625"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>adjacentTris<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span> <span class="c1">=</span> <span class="c4">null</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_626" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;626&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_626"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>adjacentTris<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span> <span class="c1">=</span> <span class="c4">null</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_627" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;627&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_627"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>adjacentTris<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span> <span class="c1">=</span> <span class="c4">null</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_628" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;628&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_628"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_629" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;629&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_629"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">Vector3</span> offset <span class="c1">=</span> <span class="c6">GetLayer</span><span class="c1">(</span>tri<span class="c1">.</span>folds<span class="c1">)</span> <span class="c1">*</span> Vector3<span class="c1">.</span>back<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_630" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;630&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_630"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">VertexData</span> v1 <span class="c1">=</span> <span class="c6">newVertexData</span><span class="c1">(</span>tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>folds<span class="c1">,</span> tri<span class="c1">.</span>faceUp<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_631" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;631&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_631"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">VertexData</span> v2 <span class="c1">=</span> <span class="c6">newVertexData</span><span class="c1">(</span>tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>folds<span class="c1">,</span> tri<span class="c1">.</span>faceUp<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_632" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;632&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_632"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">VertexData</span> v3 <span class="c1">=</span> <span class="c6">newVertexData</span><span class="c1">(</span>tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>folds<span class="c1">,</span> tri<span class="c1">.</span>faceUp<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_633" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;633&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_633"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">bool</span> v1Found<span class="c1">,</span> v2Found<span class="c1">,</span> v3Found<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_634" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;634&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_634"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span><span class="c1">!</span>data<span class="c1">.</span><span class="c6">ContainsKey</span><span class="c1">(</span>tri<span class="c1">.</span>folds<span class="c1">)</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_635" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;635&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_635"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_636" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;636&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_636"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; data<span class="c1">[</span>tri<span class="c1">.</span>folds<span class="c1">]</span> <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">List</span><span class="c1">&lt;</span><span class="b c7">VertexData</span><span class="c1">&gt;</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_637" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;637&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_637"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_638" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;638&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_638"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c6">TryFindingVertexData</span><span class="c1">(</span>data<span class="c1">[</span>tri<span class="c1">.</span>folds<span class="c1">]</span><span class="c1">,</span> <span class="c2">ref </span>v1<span class="c1">,</span> <span class="c2">out </span>v1Found<span class="c1">,</span> <span class="c2">ref </span>v2<span class="c1">,</span> <span class="c2">out </span>v2Found<span class="c1">,</span> <span class="c2">ref </span>v3<span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_639" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;639&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_639"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">out </span>v3Found<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_640" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;640&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_640"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span><span class="c1">!</span>v1Found<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_641" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;641&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_641"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_642" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;642&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_642"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; data<span class="c1">[</span>tri<span class="c1">.</span>folds<span class="c1">]</span><span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span>v1<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_643" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;643&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_643"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; v1<span class="c1">.</span>vertIndex <span class="c1">=</span> verts<span class="c1">.</span>Count<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_644" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;644&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_644"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; verts<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span>tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span> <span class="c1">+</span> offset<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_645" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;645&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_645"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uvs<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span>tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_646" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;646&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_646"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_647" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;647&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_647"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span><span class="c1">!</span>v2Found<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_648" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;648&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_648"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_649" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;649&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_649"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; data<span class="c1">[</span>tri<span class="c1">.</span>folds<span class="c1">]</span><span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span>v2<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_650" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;650&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_650"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; v2<span class="c1">.</span>vertIndex <span class="c1">=</span> verts<span class="c1">.</span>Count<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_651" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;651&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_651"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; verts<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span>tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span> <span class="c1">+</span> offset<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_652" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;652&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_652"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uvs<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span>tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_653" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;653&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_653"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_654" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;654&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_654"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span><span class="c1">!</span>v3Found<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_655" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;655&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_655"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_656" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;656&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_656"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; data<span class="c1">[</span>tri<span class="c1">.</span>folds<span class="c1">]</span><span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span>v3<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_657" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;657&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_657"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; v3<span class="c1">.</span>vertIndex <span class="c1">=</span> verts<span class="c1">.</span>Count<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_658" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;658&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_658"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; verts<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span>tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span> <span class="c1">+</span> offset<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_659" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;659&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_659"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uvs<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span>tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_660" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;660&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_660"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_661" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;661&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_661"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; v1<span class="c1">.</span>triangles<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span>tri<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_662" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;662&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_662"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; v2<span class="c1">.</span>triangles<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span>tri<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_663" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;663&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_663"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; v3<span class="c1">.</span>triangles<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span>tri<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_664" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;664&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_664"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>vertDataA <span class="c1">=</span> v1<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_665" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;665&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_665"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>vertDataB <span class="c1">=</span> v2<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_666" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;666&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_666"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>vertDataC <span class="c1">=</span> v3<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_667" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;667&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_667"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tris<span class="c1">[</span>a<span class="c1">]</span> <span class="c1">=</span> v1<span class="c1">.</span>vertIndex<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_668" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;668&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_668"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tris<span class="c1">[</span>b<span class="c1">]</span> <span class="c1">=</span> v2<span class="c1">.</span>vertIndex<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_669" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;669&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_669"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tris<span class="c1">[</span>c<span class="c1">]</span> <span class="c1">=</span> v3<span class="c1">.</span>vertIndex<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_670" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;670&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_670"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Debug<span class="c1">.</span><span class="c6">DrawLine</span><span class="c1">(</span>transform<span class="c1">.</span>position <span class="c1">+</span> v1<span class="c1">.</span>pos<span class="c1">,</span> transform<span class="c1">.</span>position <span class="c1">+</span> v2<span class="c1">.</span>pos<span class="c1">,</span> Color<span class="c1">.</span>red<span class="c1">,</span> <span class="c4">100</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_671" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;671&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_671"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Debug<span class="c1">.</span><span class="c6">DrawLine</span><span class="c1">(</span>transform<span class="c1">.</span>position <span class="c1">+</span> v2<span class="c1">.</span>pos<span class="c1">,</span> transform<span class="c1">.</span>position <span class="c1">+</span> v3<span class="c1">.</span>pos<span class="c1">,</span> Color<span class="c1">.</span>green<span class="c1">,</span> <span class="c4">100</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_672" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;672&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_672"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Debug<span class="c1">.</span><span class="c6">DrawLine</span><span class="c1">(</span>transform<span class="c1">.</span>position <span class="c1">+</span> v3<span class="c1">.</span>pos<span class="c1">,</span> transform<span class="c1">.</span>position <span class="c1">+</span> v1<span class="c1">.</span>pos<span class="c1">,</span> Color<span class="c1">.</span>blue<span class="c1">,</span> <span class="c4">100</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_673" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;673&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_673"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_674" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;674&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_674"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a <span class="c1">+=</span> <span class="c4">3</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_675" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;675&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_675"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b <span class="c1">+=</span> <span class="c4">3</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_676" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;676&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_676"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c <span class="c1">+=</span> <span class="c4">3</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_677" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;677&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_677"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_678" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;678&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_678"><span class="rt">&nbsp;&nbsp;&nbsp; UnityEngine<span class="c1">.</span>Profiling<span class="c1">.</span>Profiler<span class="c1">.</span><span class="c6">EndSample</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span> <span class="b c5">//</span><span class="b c5"> BUILD VERTS</span></span></div></td></tr>
<tr><td valign="top" id="L_0_679" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;679&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_679"><span class="rt"><span class="b empty_text" style=" color: #E7A218;">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_680" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;680&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_680"><span class="rt">&nbsp;&nbsp;&nbsp; UnityEngine<span class="c1">.</span>Profiling<span class="c1">.</span>Profiler<span class="c1">.</span><span class="c6">BeginSample</span><span class="c1">(</span><span class="c1">"</span><span class="c3">Find Adjacent Triangles</span><span class="c1">"</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_681" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;681&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_681"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">foreach</span> <span class="c1">(</span><span class="b c7">Triangle</span> tri <span class="c2">in</span> triangles<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_682" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;682&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_682"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_683" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;683&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_683"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">bool</span> sharesA <span class="c1">=</span> <span class="c1">(</span>tri<span class="c1">.</span>vertDataA<span class="c1">.</span>triangles<span class="c1">.</span>Count <span class="c1">&gt;</span> <span class="c4">1</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_684" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;684&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_684"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">bool</span> sharesB <span class="c1">=</span> <span class="c1">(</span>tri<span class="c1">.</span>vertDataB<span class="c1">.</span>triangles<span class="c1">.</span>Count <span class="c1">&gt;</span> <span class="c4">1</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_685" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;685&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_685"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">bool</span> sharesC <span class="c1">=</span> <span class="c1">(</span>tri<span class="c1">.</span>vertDataC<span class="c1">.</span>triangles<span class="c1">.</span>Count <span class="c1">&gt;</span> <span class="c4">1</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_686" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;686&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_686"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>sharesA<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_687" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;687&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_687"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_688" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;688&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_688"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">foreach</span> <span class="c1">(</span><span class="b c7">Triangle</span> vATri <span class="c2">in</span> tri<span class="c1">.</span>vertDataA<span class="c1">.</span>triangles<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_689" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;689&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_689"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_690" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;690&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_690"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>vATri <span class="c1">!=</span> tri<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_691" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;691&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_691"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_692" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;692&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_692"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>sharesB<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_693" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;693&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_693"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_694" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;694&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_694"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> Check for AB(0) side adjacencies</span></span></div></td></tr>
<tr><td valign="top" id="L_0_695" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;695&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_695"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">foreach</span> <span class="c1">(</span><span class="b c7">Triangle</span> vBTri <span class="c2">in</span> tri<span class="c1">.</span>vertDataB<span class="c1">.</span>triangles<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_696" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;696&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_696"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_697" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;697&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_697"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>vBTri <span class="c1">!=</span> tri <span class="c1">&amp;&amp;</span> vATri <span class="c1">==</span> vBTri<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_698" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;698&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_698"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_699" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;699&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_699"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>adjacentTris<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span> <span class="c1">=</span> vATri<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_700" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;700&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_700"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">break</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_701" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;701&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_701"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_702" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;702&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_702"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_703" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;703&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_703"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_704" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;704&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_704"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>sharesC<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_705" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;705&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_705"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_706" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;706&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_706"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> Check for CA(2) side adjacencies</span></span></div></td></tr>
<tr><td valign="top" id="L_0_707" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;707&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_707"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">foreach</span> <span class="c1">(</span><span class="b c7">Triangle</span> vCTri <span class="c2">in</span> tri<span class="c1">.</span>vertDataC<span class="c1">.</span>triangles<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_708" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;708&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_708"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_709" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;709&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_709"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>vCTri <span class="c1">!=</span> tri <span class="c1">&amp;&amp;</span> vCTri <span class="c1">==</span> vATri<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_710" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;710&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_710"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_711" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;711&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_711"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>adjacentTris<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span> <span class="c1">=</span> vCTri<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_712" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;712&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_712"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">break</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_713" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;713&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_713"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_714" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;714&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_714"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_715" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;715&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_715"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_716" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;716&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_716"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_717" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;717&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_717"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_718" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;718&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_718"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_719" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;719&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_719"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>sharesB <span class="c1">&amp;&amp;</span> sharesC<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_720" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;720&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_720"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_721" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;721&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_721"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> Check for BC(1) side adjacencies</span></span></div></td></tr>
<tr><td valign="top" id="L_0_722" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;722&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_722"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">foreach</span> <span class="c1">(</span><span class="b c7">Triangle</span> vBTri <span class="c2">in</span> tri<span class="c1">.</span>vertDataB<span class="c1">.</span>triangles<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_723" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;723&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_723"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_724" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;724&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_724"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>vBTri <span class="c1">!=</span> tri<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_725" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;725&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_725"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_726" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;726&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_726"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">foreach</span> <span class="c1">(</span><span class="b c7">Triangle</span> vCTri <span class="c2">in</span> tri<span class="c1">.</span>vertDataC<span class="c1">.</span>triangles<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_727" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;727&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_727"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_728" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;728&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_728"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>vCTri <span class="c1">!=</span> tri <span class="c1">&amp;&amp;</span> vBTri <span class="c1">==</span> vCTri<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_729" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;729&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_729"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_730" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;730&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_730"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>adjacentTris<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span> <span class="c1">=</span> vBTri<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_731" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;731&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_731"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">break</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_732" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;732&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_732"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_733" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;733&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_733"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_734" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;734&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_734"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_735" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;735&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_735"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_736" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;736&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_736"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_737" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;737&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_737"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_738" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;738&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_738"><span class="rt">&nbsp;&nbsp;&nbsp; UnityEngine<span class="c1">.</span>Profiling<span class="c1">.</span>Profiler<span class="c1">.</span><span class="c6">EndSample</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span> <span class="b c5">//</span><span class="b c5"> FIND ADJACENT TRIANGLES</span></span></div></td></tr>
<tr><td valign="top" id="L_0_739" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;739&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_739"><span class="rt"><span class="b empty_text" style=" color: #E7A218;">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_740" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;740&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_740"><span class="rt">&nbsp;&nbsp;&nbsp; UnityEngine<span class="c1">.</span>Profiling<span class="c1">.</span>Profiler<span class="c1">.</span><span class="c6">BeginSample</span><span class="c1">(</span><span class="c1">"</span><span class="c3">Send Mesh Data</span><span class="c1">"</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_741" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;741&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_741"><span class="rt">&nbsp;&nbsp;&nbsp; mesh<span class="c1">.</span><span class="c6">Clear</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_742" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;742&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_742"><span class="rt">&nbsp;&nbsp;&nbsp; mesh<span class="c1">.</span>vertices <span class="c1">=</span> verts<span class="c1">.</span><span class="c6">ToArray</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_743" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;743&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_743"><span class="rt">&nbsp;&nbsp;&nbsp; mesh<span class="c1">.</span>uv <span class="c1">=</span> uvs<span class="c1">.</span><span class="c6">ToArray</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_744" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;744&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_744"><span class="rt">&nbsp;&nbsp;&nbsp; mesh<span class="c1">.</span>triangles <span class="c1">=</span> tris<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_745" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;745&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_745"><span class="rt">&nbsp;&nbsp;&nbsp; mesh<span class="c1">.</span><span class="c6">RecalculateNormals</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_746" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;746&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_746"><span class="rt">&nbsp;&nbsp;&nbsp; UnityEngine<span class="c1">.</span>Profiling<span class="c1">.</span>Profiler<span class="c1">.</span><span class="c6">EndSample</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span> <span class="b c5">//</span><span class="b c5"> SEND MESH DATA</span></span></div></td></tr>
<tr><td valign="top" id="L_0_747" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;747&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_747"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp; UnityEngine<span class="c1">.</span>Profiling<span class="c1">.</span>Profiler<span class="c1">.</span><span class="c6">EndSample</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span> <span class="b c5">//</span><span class="b c5"> WORLD MESH GENERATION</span></span></div></td></tr>
<tr><td valign="top" id="L_0_748" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;748&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_748"><span class="rt"><span class="b empty_text" style=" color: #E7A218;">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_749" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;749&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_749"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> GENERATE SHADOW MESH!</span></span></div></td></tr>
<tr><td valign="top" id="L_0_750" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;750&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_750"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp; UnityEngine<span class="c1">.</span>Profiling<span class="c1">.</span>Profiler<span class="c1">.</span><span class="c6">BeginSample</span><span class="c1">(</span><span class="c1">"</span><span class="c3">Generate Shadow Mesh</span><span class="c1">"</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_751" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;751&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_751"><span class="rt">&nbsp;&nbsp;&nbsp; UnityEngine<span class="c1">.</span>Profiling<span class="c1">.</span>Profiler<span class="c1">.</span><span class="c6">BeginSample</span><span class="c1">(</span><span class="c1">"</span><span class="c3">Find Shadow Constraints</span><span class="c1">"</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_752" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;752&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_752"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">foreach</span> <span class="c1">(</span><span class="b c7">Triangle</span> tri <span class="c2">in</span> triangles<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_753" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;753&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_753"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_754" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;754&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_754"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">Vector3</span> posA <span class="c1">=</span> verts<span class="c1">[</span>tri<span class="c1">.</span>vertDataA<span class="c1">.</span>vertIndex<span class="c1">]</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_755" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;755&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_755"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">Vector3</span> posB <span class="c1">=</span> verts<span class="c1">[</span>tri<span class="c1">.</span>vertDataB<span class="c1">.</span>vertIndex<span class="c1">]</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_756" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;756&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_756"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">Vector3</span> posC <span class="c1">=</span> verts<span class="c1">[</span>tri<span class="c1">.</span>vertDataC<span class="c1">.</span>vertIndex<span class="c1">]</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_757" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;757&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_757"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>tri<span class="c1">.</span>adjacentTris<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span> <span class="c1">==</span> <span class="c4">null</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_758" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;758&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_758"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_759" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;759&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_759"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">Vector3</span> offset <span class="c1">=</span> <span class="c1">(</span>posB <span class="c1">-</span> posA<span class="c1">)</span><span class="c1">.</span>nized<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_760" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;760&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_760"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; offset <span class="c1">=</span> shadowDistance <span class="c1">*</span> <span class="c1">new</span> <span class="b c7">Vector3</span><span class="c1">(</span><span class="c1">-</span>offset<span class="c1">.</span>y<span class="c1">,</span> offset<span class="c1">.</span>x<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_761" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;761&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_761"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span><span class="c1">!</span>tri<span class="c1">.</span>faceUp<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_762" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;762&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_762"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_763" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;763&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_763"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; offset <span class="c1">=</span> <span class="c1">-</span>offset<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_764" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;764&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_764"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_765" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;765&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_765"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">VertexConstraint</span> constraint <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">VertexConstraint</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_766" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;766&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_766"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; constraint<span class="c1">.</span>linePosA <span class="c1">=</span> posA <span class="c1">+</span> offset<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_767" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;767&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_767"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; constraint<span class="c1">.</span>linePosB <span class="c1">=</span> posB <span class="c1">+</span> offset<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_768" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;768&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_768"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>vertDataA<span class="c1">.</span>constraints<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span>constraint<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_769" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;769&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_769"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>vertDataB<span class="c1">.</span>constraints<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span>constraint<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_770" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;770&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_770"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_771" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;771&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_771"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>tri<span class="c1">.</span>adjacentTris<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span> <span class="c1">==</span> <span class="c4">null</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_772" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;772&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_772"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_773" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;773&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_773"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">Vector3</span> offset <span class="c1">=</span> <span class="c1">(</span>tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span> <span class="c1">-</span> posB<span class="c1">)</span><span class="c1">.</span>nized<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_774" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;774&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_774"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; offset <span class="c1">=</span> shadowDistance <span class="c1">*</span> <span class="c1">new</span> <span class="b c7">Vector3</span><span class="c1">(</span><span class="c1">-</span>offset<span class="c1">.</span>y<span class="c1">,</span> offset<span class="c1">.</span>x<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_775" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;775&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_775"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span><span class="c1">!</span>tri<span class="c1">.</span>faceUp<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_776" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;776&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_776"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_777" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;777&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_777"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; offset <span class="c1">=</span> <span class="c1">-</span>offset<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_778" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;778&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_778"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_779" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;779&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_779"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">VertexConstraint</span> constraint <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">VertexConstraint</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_780" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;780&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_780"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; constraint<span class="c1">.</span>linePosA <span class="c1">=</span> posB <span class="c1">+</span> offset<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_781" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;781&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_781"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; constraint<span class="c1">.</span>linePosB <span class="c1">=</span> posC <span class="c1">+</span> offset<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_782" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;782&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_782"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>vertDataB<span class="c1">.</span>constraints<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span>constraint<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_783" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;783&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_783"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>vertDataC<span class="c1">.</span>constraints<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span>constraint<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_784" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;784&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_784"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_785" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;785&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_785"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>tri<span class="c1">.</span>adjacentTris<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span> <span class="c1">==</span> <span class="c4">null</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_786" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;786&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_786"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_787" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;787&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_787"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">Vector3</span> offset <span class="c1">=</span> <span class="c1">(</span>posA <span class="c1">-</span> posC<span class="c1">)</span><span class="c1">.</span>nized<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_788" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;788&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_788"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; offset <span class="c1">=</span> shadowDistance <span class="c1">*</span> <span class="c1">new</span> <span class="b c7">Vector3</span><span class="c1">(</span><span class="c1">-</span>offset<span class="c1">.</span>y<span class="c1">,</span> offset<span class="c1">.</span>x<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_789" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;789&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_789"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span><span class="c1">!</span>tri<span class="c1">.</span>faceUp<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_790" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;790&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_790"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_791" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;791&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_791"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; offset <span class="c1">=</span> <span class="c1">-</span>offset<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_792" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;792&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_792"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_793" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;793&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_793"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">VertexConstraint</span> constraint <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">VertexConstraint</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_794" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;794&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_794"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; constraint<span class="c1">.</span>linePosA <span class="c1">=</span> posC <span class="c1">+</span> offset<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_795" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;795&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_795"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; constraint<span class="c1">.</span>linePosB <span class="c1">=</span> posA <span class="c1">+</span> offset<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_796" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;796&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_796"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>vertDataC<span class="c1">.</span>constraints<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span>constraint<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_797" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;797&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_797"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>vertDataA<span class="c1">.</span>constraints<span class="c1">.</span><span class="c6">Add</span><span class="c1">(</span>constraint<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_798" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;798&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_798"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_799" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;799&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_799"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_800" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;800&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_800"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> </span><span class="b c5">TODO</span><span class="b c5"> (hitch) 5-13-18 IDEALLY WE'D LIKE SOMEWAY TO SAVE CLEAN VERT DATA OR DUMP THIS EACH</span></span></div></td></tr>
<tr><td valign="top" id="L_0_801" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;801&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_801"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5">&nbsp;&nbsp; FRAME:</span></span></div></td></tr>
<tr><td valign="top" id="L_0_802" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;802&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_802"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c5">/*</span></span></div></td></tr>
<tr><td valign="top" id="L_0_803" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;803&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_803"><span class="rt"><span class="i c8">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri.vertDataA = null;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_804" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;804&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_804"><span class="rt"><span class="i c8">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri.vertDataB = null;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_805" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;805&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_805"><span class="rt"><span class="i c8">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri.vertDataC = null;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_806" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;806&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_806"><span class="rt"><span class="i c8">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="b c5">*/</span></span></div></td></tr>
<tr><td valign="top" id="L_0_807" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;807&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_807"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>vertDataA <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">VertexData</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_808" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;808&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_808"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>vertDataB <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">VertexData</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_809" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;809&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_809"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>vertDataC <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">VertexData</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_810" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;810&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_810"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_811" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;811&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_811"><span class="rt">&nbsp;&nbsp;&nbsp; UnityEngine<span class="c1">.</span>Profiling<span class="c1">.</span>Profiler<span class="c1">.</span><span class="c6">EndSample</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span> <span class="b c5">//</span><span class="b c5"> FIND SHADOW CONSTRAINTS</span></span></div></td></tr>
<tr><td valign="top" id="L_0_812" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;812&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_812"><span class="rt"><span class="b empty_text" style=" color: #E7A218;">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_813" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;813&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_813"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">foreach</span> <span class="c1">(</span><span class="b c7">KeyValuePair</span><span class="c1">&lt;</span><span class="c2">int</span><span class="c1">,</span> <span class="b c7">List</span><span class="c1">&lt;</span><span class="b c7">VertexData</span><span class="c1">&gt;&gt;</span> entry <span class="c2">in</span> data<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_814" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;814&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_814"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_815" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;815&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_815"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">foreach</span> <span class="c1">(</span><span class="b c7">VertexData</span> vert <span class="c2">in</span> entry<span class="c1">.</span>Value<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_816" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;816&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_816"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_817" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;817&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_817"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>vert<span class="c1">.</span>constraints<span class="c1">.</span>Count <span class="c1">&gt;</span> <span class="c4">0</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_818" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;818&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_818"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_819" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;819&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_819"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>vert<span class="c1">.</span>constraints<span class="c1">.</span>Count <span class="c1">==</span> <span class="c4">1</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_820" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;820&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_820"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_821" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;821&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_821"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; verts<span class="c1">[</span>vert<span class="c1">.</span>vertIndex<span class="c1">]</span> <span class="c1">=</span> <span class="c6">NearestPointOnLine</span><span class="c1">(</span>vert<span class="c1">.</span>constraints<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">.</span>linePosA<span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_822" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;822&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_822"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vert<span class="c1">.</span>constraints<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">.</span>linePosB<span class="c1">,</span> verts<span class="c1">[</span>vert<span class="c1">.</span>vertIndex<span class="c1">]</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_823" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;823&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_823"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_824" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;824&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_824"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">else</span></span></div></td></tr>
<tr><td valign="top" id="L_0_825" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;825&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_825"><span class="rt"><span class="c2"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_826" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;826&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_826"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">Vector3</span> lineA <span class="c1">=</span> <span class="c1">(</span>vert<span class="c1">.</span>constraints<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">.</span>linePosB <span class="c1">-</span></span></div></td></tr>
<tr><td valign="top" id="L_0_827" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;827&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_827"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vert<span class="c1">.</span>constraints<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">.</span>linePosA<span class="c1">)</span><span class="c1">.</span>nized<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_828" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;828&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_828"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">Vector3</span> lineB <span class="c1">=</span> <span class="c1">(</span>vert<span class="c1">.</span>constraints<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">.</span>linePosB <span class="c1">-</span></span></div></td></tr>
<tr><td valign="top" id="L_0_829" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;829&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_829"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vert<span class="c1">.</span>constraints<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">.</span>linePosA<span class="c1">)</span><span class="c1">.</span>nized<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_830" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;830&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_830"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span><span class="c6">ApproximatelyEqual</span><span class="c1">(</span>lineA<span class="c1">,</span> lineB<span class="c1">)</span> <span class="c1">||</span> <span class="c6">ApproximatelyEqual</span><span class="c1">(</span>lineA<span class="c1">,</span> <span class="c1">-</span>lineB<span class="c1">)</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_831" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;831&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_831"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_832" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;832&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_832"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; verts<span class="c1">[</span>vert<span class="c1">.</span>vertIndex<span class="c1">]</span> <span class="c1">=</span> <span class="c6">NearestPointOnLine</span><span class="c1">(</span>vert<span class="c1">.</span>constraints<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">.</span>linePosA<span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_833" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;833&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_833"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vert<span class="c1">.</span>constraints<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">.</span>linePosB<span class="c1">,</span> verts<span class="c1">[</span>vert<span class="c1">.</span>vertIndex<span class="c1">]</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_834" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;834&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_834"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_835" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;835&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_835"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">else</span></span></div></td></tr>
<tr><td valign="top" id="L_0_836" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;836&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_836"><span class="rt"><span class="c2"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_837" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;837&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_837"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; verts<span class="c1">[</span>vert<span class="c1">.</span>vertIndex<span class="c1">]</span> <span class="c1">=</span> <span class="c6">LineIntercept</span><span class="c1">(</span>vert<span class="c1">.</span>constraints<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">.</span>linePosA<span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_838" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;838&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_838"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vert<span class="c1">.</span>constraints<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">.</span>linePosB<span class="c1">,</span> vert<span class="c1">.</span>constraints<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">.</span>linePosA<span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_839" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;839&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_839"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vert<span class="c1">.</span>constraints<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">.</span>linePosB<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_840" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;840&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_840"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_841" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;841&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_841"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_842" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;842&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_842"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_843" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;843&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_843"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_844" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;844&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_844"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_845" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;845&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_845"><span class="rt">&nbsp;&nbsp;&nbsp; shadowMesh<span class="c1">.</span><span class="c6">Clear</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_846" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;846&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_846"><span class="rt">&nbsp;&nbsp;&nbsp; shadowMesh<span class="c1">.</span>vertices <span class="c1">=</span> verts<span class="c1">.</span><span class="c6">ToArray</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_847" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;847&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_847"><span class="rt">&nbsp;&nbsp;&nbsp; shadowMesh<span class="c1">.</span>triangles <span class="c1">=</span> tris<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_848" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;848&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_848"><span class="rt">&nbsp;&nbsp;&nbsp; shadowMesh<span class="c1">.</span><span class="c6">RecalculateNormals</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_849" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;849&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_849"><span class="rt">&nbsp;&nbsp;&nbsp; UnityEngine<span class="c1">.</span>Profiling<span class="c1">.</span>Profiler<span class="c1">.</span><span class="c6">EndSample</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span> <span class="b c5">//</span><span class="b c5"> SHADOW MESH GENERATION</span></span></div></td></tr>
<tr><td valign="top" id="L_0_850" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;850&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_850"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp; UnityEngine<span class="c1">.</span>Profiling<span class="c1">.</span>Profiler<span class="c1">.</span><span class="c6">EndSample</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span> <span class="b c5">//</span><span class="b c5"> MESH UPDATING</span></span></div></td></tr>
<tr><td valign="top" id="L_0_851" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;851&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_851"><span class="rt"><span class="b c5"></span>&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_852" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;852&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_852"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_853" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;853&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_853"><span class="rt">&nbsp; <span class="c2">private</span> <span class="b c7">Vector3</span> <span class="c6">NearestPointOnLine</span><span class="c1">(</span><span class="b c7">Vector3</span> <span class="c4">linePosA</span><span class="c1">,</span> <span class="b c7">Vector3</span> <span class="c4">linePosB</span><span class="c1">,</span> <span class="b c7">Vector3</span> <span class="c4">point</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_854" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;854&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_854"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_855" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;855&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_855"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="b c7">Vector3</span> tangent <span class="c1">=</span> <span class="c1">(</span>linePosB <span class="c1">-</span> linePosA<span class="c1">)</span><span class="c1">.</span>nized<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_856" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;856&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_856"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="b c7">Vector3</span> pointOffset <span class="c1">=</span> point <span class="c1">-</span> linePosA<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_857" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;857&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_857"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">float</span> distance <span class="c1">=</span> Vector3<span class="c1">.</span><span class="c6">Dot</span><span class="c1">(</span>pointOffset<span class="c1">,</span> tangent<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_858" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;858&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_858"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">return</span> linePosA <span class="c1">+</span> distance <span class="c1">*</span> tangent<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_859" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;859&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_859"><span class="rt">&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_860" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;860&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_860"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_861" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;861&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_861"><span class="rt">&nbsp; <span class="c2">private</span> <span class="b c7">Vector3</span> <span class="c6">LineIntercept</span><span class="c1">(</span><span class="b c7">Vector3</span> <span class="c4">lineAPosA</span><span class="c1">,</span> <span class="b c7">Vector3</span> <span class="c4">lineAPosB</span><span class="c1">,</span> <span class="b c7">Vector3</span> <span class="c4">lineBPosA</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_862" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;862&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_862"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">Vector3</span> <span class="c4">lineBPosB</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_863" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;863&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_863"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_864" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;864&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_864"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">float</span> x1 <span class="c1">=</span> lineAPosA<span class="c1">.</span>x<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_865" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;865&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_865"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">float</span> y1 <span class="c1">=</span> lineAPosA<span class="c1">.</span>y<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_866" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;866&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_866"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">float</span> x2 <span class="c1">=</span> lineAPosB<span class="c1">.</span>x<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_867" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;867&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_867"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">float</span> y2 <span class="c1">=</span> lineAPosB<span class="c1">.</span>y<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_868" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;868&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_868"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">float</span> x3 <span class="c1">=</span> lineBPosA<span class="c1">.</span>x<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_869" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;869&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_869"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">float</span> y3 <span class="c1">=</span> lineBPosA<span class="c1">.</span>y<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_870" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;870&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_870"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">float</span> x4 <span class="c1">=</span> lineBPosB<span class="c1">.</span>x<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_871" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;871&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_871"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">float</span> y4 <span class="c1">=</span> lineBPosB<span class="c1">.</span>y<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_872" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;872&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_872"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_873" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;873&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_873"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">float</span> x <span class="c1">=</span> <span class="c1">(</span><span class="c1">(</span><span class="c1">(</span>x1<span class="c1">*</span>y2 <span class="c1">-</span> y1<span class="c1">*</span>x2<span class="c1">)</span><span class="c1">*</span><span class="c1">(</span>x3<span class="c1">-</span>x4<span class="c1">)</span><span class="c1">)</span> <span class="c1">-</span> <span class="c1">(</span><span class="c1">(</span>x1<span class="c1">-</span>x2<span class="c1">)</span><span class="c1">*</span><span class="c1">(</span>x3<span class="c1">*</span>y4 <span class="c1">-</span> y3<span class="c1">*</span>x4<span class="c1">)</span><span class="c1">)</span><span class="c1">)</span> <span class="c1">/</span></span></div></td></tr>
<tr><td valign="top" id="L_0_874" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;874&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_874"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">(</span><span class="c1">(</span><span class="c1">(</span>x1 <span class="c1">-</span> x2<span class="c1">)</span><span class="c1">*</span><span class="c1">(</span>y3 <span class="c1">-</span> y4<span class="c1">)</span><span class="c1">)</span> <span class="c1">-</span> <span class="c1">(</span><span class="c1">(</span>y1 <span class="c1">-</span> y2<span class="c1">)</span><span class="c1">*</span><span class="c1">(</span>x3 <span class="c1">-</span> x4<span class="c1">)</span><span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_875" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;875&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_875"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">float</span> y <span class="c1">=</span> <span class="c1">(</span><span class="c1">(</span><span class="c1">(</span>x1<span class="c1">*</span>y2 <span class="c1">-</span> y1<span class="c1">*</span>x2<span class="c1">)</span><span class="c1">*</span><span class="c1">(</span>y3<span class="c1">-</span>y4<span class="c1">)</span><span class="c1">)</span> <span class="c1">-</span> <span class="c1">(</span><span class="c1">(</span>y1<span class="c1">-</span>y2<span class="c1">)</span><span class="c1">*</span><span class="c1">(</span>x3<span class="c1">*</span>y4 <span class="c1">-</span> y3<span class="c1">*</span>x4<span class="c1">)</span><span class="c1">)</span><span class="c1">)</span> <span class="c1">/</span></span></div></td></tr>
<tr><td valign="top" id="L_0_876" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;876&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_876"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">(</span><span class="c1">(</span><span class="c1">(</span>x1 <span class="c1">-</span> x2<span class="c1">)</span><span class="c1">*</span><span class="c1">(</span>y3 <span class="c1">-</span> y4<span class="c1">)</span><span class="c1">)</span> <span class="c1">-</span> <span class="c1">(</span><span class="c1">(</span>y1 <span class="c1">-</span> y2<span class="c1">)</span><span class="c1">*</span><span class="c1">(</span>x3 <span class="c1">-</span> x4<span class="c1">)</span><span class="c1">)</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_877" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;877&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_877"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">return</span> <span class="c1">new</span> <span class="b c7">Vector3</span><span class="c1">(</span>x<span class="c1">,</span> y<span class="c1">,</span> lineAPosA<span class="c1">.</span>z<span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_878" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;878&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_878"><span class="rt">&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_879" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;879&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_879"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_880" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;880&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_880"><span class="rt">&nbsp; <span class="c2">private</span> <span class="c2">static</span> <span class="c2">bool</span> <span class="c6">ApproximatelyEqual</span><span class="c1">(</span><span class="b c7">Vector3</span> <span class="c4">a</span><span class="c1">,</span> <span class="b c7">Vector3</span> <span class="c4">b</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_881" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;881&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_881"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_882" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;882&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_882"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">return</span> <span class="c1">(</span>a<span class="c1">.</span>x <span class="c1">&gt;</span> b<span class="c1">.</span>x <span class="c1">-</span> <span class="c4">0.01</span><span class="c2">f</span><span class="c1">)</span> <span class="c1">&amp;&amp;</span> <span class="c1">(</span>a<span class="c1">.</span>x <span class="c1">&lt;</span> b<span class="c1">.</span>x <span class="c1">+</span> <span class="c4">0.01</span><span class="c2">f</span><span class="c1">)</span> <span class="c1">&amp;&amp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_883" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;883&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_883"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">(</span>a<span class="c1">.</span>y <span class="c1">&gt;</span> b<span class="c1">.</span>y <span class="c1">-</span> <span class="c4">0.01</span><span class="c2">f</span><span class="c1">)</span> <span class="c1">&amp;&amp;</span> <span class="c1">(</span>a<span class="c1">.</span>y <span class="c1">&lt;</span> b<span class="c1">.</span>y <span class="c1">+</span> <span class="c4">0.01</span><span class="c2">f</span><span class="c1">)</span> <span class="c1">&amp;&amp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_884" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;884&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_884"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">(</span>a<span class="c1">.</span>z <span class="c1">&gt;</span> b<span class="c1">.</span>z <span class="c1">-</span> <span class="c4">0.01</span><span class="c2">f</span><span class="c1">)</span> <span class="c1">&amp;&amp;</span> <span class="c1">(</span>a<span class="c1">.</span>z <span class="c1">&lt;</span> b<span class="c1">.</span>z <span class="c1">+</span> <span class="c4">0.01</span><span class="c2">f</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_885" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;885&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_885"><span class="rt">&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_886" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;886&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_886"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_887" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;887&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_887"><span class="rt">&nbsp; <span class="c2">private</span> <span class="c2">void</span> <span class="c6">TryFindingVertexData</span><span class="c1">(</span><span class="b c7">List</span><span class="c1">&lt;</span><span class="b c7">VertexData</span><span class="c1">&gt;</span> <span class="c4">data</span><span class="c1">,</span> <span class="c2">ref </span><span class="b c7">VertexData</span> <span class="c4">v1InOut</span><span class="c1">,</span> <span class="c2">out </span><span class="c2">bool</span> <span class="c4">v1Found</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_888" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;888&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_888"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">ref </span><span class="b c7">VertexData</span> <span class="c4">v2InOut</span><span class="c1">,</span> <span class="c2">out </span><span class="c2">bool</span> <span class="c4">v2Found</span><span class="c1">,</span> <span class="c2">ref </span><span class="b c7">VertexData</span> <span class="c4">v3InOut</span><span class="c1">,</span> <span class="c2">out </span><span class="c2">bool</span> <span class="c4">v3Found</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_889" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;889&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_889"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_890" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;890&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_890"><span class="rt">&nbsp;&nbsp;&nbsp; v1Found <span class="c1">=</span> <span class="c4">false</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_891" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;891&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_891"><span class="rt">&nbsp;&nbsp;&nbsp; v2Found <span class="c1">=</span> <span class="c4">false</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_892" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;892&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_892"><span class="rt">&nbsp;&nbsp;&nbsp; v3Found <span class="c1">=</span> <span class="c4">false</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_893" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;893&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_893"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_894" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;894&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_894"><span class="rt">&nnbsp;&nbsp;&nbsp; UnityEngine<span class="c1">.</span>Profiling<span class="c1">.</span>Profiler<span class="c1">.</span><span class="c6">BeginSample</span><span class="c1">(</span><span class="c1">"</span><span class="c3">FINDING VERTICIES</span><span class="c1">"</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_895" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;895&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_895"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">foreach</span> <span class="c1">(</span><span class="b c7">VertexData</span> daton <span class="c2">in</span> data<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_896" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;896&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_896"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_897" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;897&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_897"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span><span class="c1">!</span>v1Found <span class="c1">&amp;&amp;</span> <span class="c6">ApproximatelyEqual</span><span class="c1">(</span>daton<span class="c1">.</span>pos<span class="c1">,</span> v1InOut<span class="c1">.</span>pos<span class="c1">)</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_898" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;898&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_898"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_899" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;899&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_899"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; v1InOut <span class="c1">=</span> daton<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_900" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;900&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_900"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; v1Found <span class="c1">=</span> <span class="c4">true</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_901" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;901&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_901"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>v2Found <span class="c1">&amp;&amp;</span> v3Found<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_902" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;902&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_902"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_903" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;903&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_903"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">break</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_904" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;904&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_904"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_905" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;905&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_905"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_906" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;906&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_906"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span><span class="c1">!</span>v2Found <span class="c1">&amp;&amp;</span> <span class="c6">ApproximatelyEqual</span><span class="c1">(</span>daton<span class="c1">.</span>pos<span class="c1">,</span> v2InOut<span class="c1">.</span>pos<span class="c1">)</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_907" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;907&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_907"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_908" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;908&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_908"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; v2InOut <span class="c1">=</span> daton<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_909" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;909&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_909"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; v2Found <span class="c1">=</span> <span class="c4">true</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_910" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;910&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_910"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>v1Found <span class="c1">&amp;&amp;</span> v3Found<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_911" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;911&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_911"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_912" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;912&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_912"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">break</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_913" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;913&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_913"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_914" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;914&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_914"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_915" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;915&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_915"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span><span class="c1">!</span>v3Found <span class="c1">&amp;&amp;</span> <span class="c6">ApproximatelyEqual</span><span class="c1">(</span>daton<span class="c1">.</span>pos<span class="c1">,</span> v3InOut<span class="c1">.</span>pos<span class="c1">)</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_916" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;916&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_916"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_917" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;917&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_917"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; v3InOut <span class="c1">=</span> daton<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_918" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;918&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_918"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; v3Found <span class="c1">=</span> <span class="c4">true</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_919" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;919&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_919"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">if</span> <span class="c1">(</span>v1Found <span class="c1">&amp;&amp;</span> v2Found<span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_920" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;920&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_920"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_921" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;921&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_921"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">break</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_922" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;922&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_922"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_923" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;923&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_923"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_924" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;924&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_924"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_925" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;925&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_925"><span class="rt">&nbsp;&nbsp;&nbsp; UnityEngine<span class="c1">.</span>Profiling<span class="c1">.</span>Profiler<span class="c1">.</span><span class="c6">EndSample</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span> <span class="b c5">//</span><span class="b c5"> FIND VERTS</span></span></div></td></tr>
<tr><td valign="top" id="L_0_926" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;926&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_926"><span class="rt"><span class="b c5"></span>&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_927" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;927&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_927"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_928" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;928&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_928"><span class="rt">&nbsp; <span class="b c5">///</span><span class="i c8">///////////////////////////////////////////////////////////////////////////////////////////////</span></span></div></td></tr>
<tr><td valign="top" id="L_0_929" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;929&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_929"><span class="rt"><span class="i empty_text" style=" color: #969896;">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_930" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;930&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_930"><span class="rt">&nbsp; <span class="c1">[</span>System<span class="c1">.</span>Serializable<span class="c1">]</span></span></div></td></tr>
<tr><td valign="top" id="L_0_931" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;931&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_931"><span class="rt">&nbsp; <span class="c2">private</span> <span class="c2">class</span> <span class="b c7">Reflection</span></span></div></td></tr>
<tr><td valign="top" id="L_0_932" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;932&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_932"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_933" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;933&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_933"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_934" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;934&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_934"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="c2">readonly</span> <span class="b c7">Vector3</span> startPos<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_935" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;935&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_935"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="c2">readonly</span> <span class="b c7">ReflectionLine</span> reflectionLine<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_936" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;936&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_936"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_937" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;937&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_937"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="c6">Reflection</span><span class="c1">(</span><span class="b c7">Vector3</span> <span class="c4">startPos</span><span class="c1">,</span> <span class="b c7">ReflectionLine</span> <span class="c4">reflectionLine</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_938" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;938&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_938"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_939" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;939&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_939"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="i c9">this</span><span class="c1">.</span>startPos <span class="c1">=</span> startPos<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_940" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;940&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_940"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="i c9">this</span><span class="c1">.</span>reflectionLine <span class="c1">=</span> reflectionLine<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_941" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;941&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_941"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_942" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;942&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_942"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_943" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;943&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_943"><span class="rt">&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_944" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;944&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_944"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_945" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;945&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_945"><span class="rt">&nbsp; <span class="b c5">///</span><span class="i c8">///////////////////////////////////////////////////////////////////////////////////////////////</span></span></div></td></tr>
<tr><td valign="top" id="L_0_946" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;946&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_946"><span class="rt"><span class="i empty_text" style=" color: #969896;">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_947" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;947&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_947"><span class="rt">&nbsp; <span class="c1">[</span>System<span class="c1">.</span>Serializable<span class="c1">]</span></span></div></td></tr>
<tr><td valign="top" id="L_0_948" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;948&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_948"><span class="rt">&nbsp; <span class="c2">private</span> <span class="c2">class</span> <span class="b c7">Triangle</span></span></div></td></tr>
<tr><td valign="top" id="L_0_949" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;949&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_949"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_950" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;950&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_950"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_951" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;951&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_951"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> Standard Data:</span></span></div></td></tr>
<tr><td valign="top" id="L_0_952" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;952&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_952"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="b c7">Vector3</span><span class="c1">[</span><span class="c1">]</span> verts<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_953" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;953&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_953"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="b c7">Vector2</span><span class="c1">[</span><span class="c1">]</span> uvs<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_954" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;954&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_954"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="c2">int</span> folds<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_955" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;955&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_955"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="c2">bool</span> faceUp<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_956" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;956&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_956"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_957" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;957&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_957"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> Spatial Data:</span></span></div></td></tr>
<tr><td valign="top" id="L_0_958" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;958&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_958"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="b c7">Triangle</span><span class="c1">[</span><span class="c1">]</span> adjacentTris<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_959" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;959&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_959"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_960" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;960&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_960"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="b c5">//</span><span class="b c5"> Temporary Data:</span></span></div></td></tr>
<tr><td valign="top" id="L_0_961" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;961&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_961"><span class="rt"><span class="b c5"></span>&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="b c7">VertexData</span> vertDataA<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_962" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;962&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_962"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="b c7">VertexData</span> vertDataB<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_963" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;963&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_963"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="b c7">VertexData</span> vertDataC<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_964" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;964&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_964"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_965" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;965&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_965"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="c6">Triangle</span><span class="c1">(</span><span class="b c7">Vector3</span> <span class="c4">vertA</span><span class="c1">,</span> <span class="b c7">Vector3</span> <span class="c4">vertB</span><span class="c1">,</span> <span class="b c7">Vector3</span> <span class="c4">vertC</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_966" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;966&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_966"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="b c7">Vector2</span> <span class="c4">uvA</span><span class="c1">,</span> <span class="b c7">Vector2</span> <span class="c4">uvB</span><span class="c1">,</span> <span class="b c7">Vector2</span> <span class="c4">uvC</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_967" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;967&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_967"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="c2">int</span> <span class="c4">folds</span><span class="c1">,</span> <span class="c2">bool</span> <span class="c4">faceUp</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_968" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;968&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_968"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_969" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;969&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_969"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="i c9">this</span><span class="c1">.</span>verts <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">Vector3</span><span class="c1">[</span><span class="c1">]</span> <span class="c1">{</span> vertA<span class="c1">,</span> vertB<span class="c1">,</span> vertC <span class="c1">}</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_970" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;970&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_970"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="i c9">this</span><span class="c1">.</span>uvs <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">Vector2</span><span class="c1">[</span><span class="c1">]</span> <span class="c1">{</span> uvA<span class="c1">,</span> uvB<span class="c1">,</span> uvC <span class="c1">}</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_971" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;971&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_971"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="i c9">this</span><span class="c1">.</span>folds <span class="c1">=</span> folds<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_972" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;972&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_972"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="i c9">this</span><span class="c1">.</span>adjacentTris <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">Triangle</span><span class="c1">[</span><span class="c4">3</span><span class="c1">]</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_973" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;973&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_973"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="i c9">this</span><span class="c1">.</span>faceUp <span class="c1">=</span> faceUp<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_974" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;974&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_974"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_975" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;975&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_975"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_976" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;976&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_976"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="c6">Triangle</span><span class="c1">(</span><span class="b c7">Triangle</span> <span class="c4">tri</span><span class="c1">)</span> <span class="c1">:</span> <span class="i c9">this</span><span class="c1">(</span>tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>verts<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">,</span></span></div></td></tr>
<tr><td valign="top" id="L_0_977" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;977&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_977"><span class="rt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">0</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">1</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>uvs<span class="c1">[</span><span class="c4">2</span><span class="c1">]</span><span class="c1">,</span> tri<span class="c1">.</span>folds<span class="c1">,</span> tri<span class="c1">.</span>faceUp<span class="c1">)</span> <span class="c1">{</span><span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_978" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;978&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_978"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_979" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;979&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_979"><span class="rt">&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_980" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;980&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_980"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_981" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;981&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_981"><span class="rt">&nbsp; <span class="b c5">///</span><span class="i c8">///////////////////////////////////////////////////////////////////////////////////////////////</span></span></div></td></tr>
<tr><td valign="top" id="L_0_982" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;982&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_982"><span class="rt"><span class="i empty_text" style=" color: #969896;">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_983" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;983&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_983"><span class="rt">&nbsp; <span class="c1">[</span>System<span class="c1">.</span>Serializable<span class="c1">]</span></span></div></td></tr>
<tr><td valign="top" id="L_0_984" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;984&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_984"><span class="rt">&nbsp; <span class="c2">private</span> <span class="c2">class</span> <span class="b c7">VertexData</span></span></div></td></tr>
<tr><td valign="top" id="L_0_985" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;985&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_985"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_986" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;986&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_986"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_987" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;987&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_987"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="b c7">Vector3</span> pos<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_988" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;988&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_988"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="c2">int</span> folds<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_989" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;989&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_989"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="c2">bool</span> faceUp<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_990" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;990&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_990"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_991" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;991&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_991"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="c2">int</span> vertIndex<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_992" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;992&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_992"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="b c7">List</span><span class="c1">&lt;</span><span class="b c7">Triangle</span><span class="c1">&gt;</span> triangles<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_993" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;993&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_993"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="b c7">List</span><span class="c1">&lt;</span><span class="b c7">VertexConstraint</span><span class="c1">&gt;</span> constraints<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_994" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;994&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_994"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_995" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;995&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_995"><span class="rt">&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_996" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;996&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_996"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_997" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;997&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_997"><span class="rt">&nbsp; <span class="c2">private</span> <span class="b c7">VertexData</span> <span class="c6">newVertexData</span><span class="c1">(</span><span class="b c7">Vector3</span> <span class="c4">pos</span><span class="c1">,</span> <span class="c2">int</span> <span class="c4">folds</span><span class="c1">,</span> <span class="c2">bool</span> <span class="c4">faceUp</span><span class="c1">)</span></span></div></td></tr>
<tr><td valign="top" id="L_0_998" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;998&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_998"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_999" class="ct cg"><span class="ln" data-line-number="&nbsp;&nbsp;999&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_999"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="b c7">VertexData</span> v <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">VertexData</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1000" class="ct cg"><span class="ln" data-line-number="&nbsp;1000&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1000"><span class="rt">&nbsp;&nbsp;&nbsp; v<span class="c1">.</span>pos <span class="c1">=</span> pos<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1001" class="ct cg"><span class="ln" data-line-number="&nbsp;1001&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1001"><span class="rt">&nbsp;&nbsp;&nbsp; v<span class="c1">.</span>folds <span class="c1">=</span> folds<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1002" class="ct cg"><span class="ln" data-line-number="&nbsp;1002&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1002"><span class="rt">&nbsp;&nbsp;&nbsp; v<span class="c1">.</span>faceUp <span class="c1">=</span> faceUp<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1003" class="ct cg"><span class="ln" data-line-number="&nbsp;1003&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1003"><span class="rt">&nbsp;&nbsp;&nbsp; v<span class="c1">.</span>vertIndex <span class="c1">=</span> <span class="c4">0</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1004" class="ct cg"><span class="ln" data-line-number="&nbsp;1004&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1004"><span class="rt">&nbsp;&nbsp;&nbsp; v<span class="c1">.</span>triangles <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">List</span><span class="c1">&lt;</span><span class="b c7">Triangle</span><span class="c1">&gt;</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1005" class="ct cg"><span class="ln" data-line-number="&nbsp;1005&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1005"><span class="rt">&nbsp;&nbsp;&nbsp; v<span class="c1">.</span>constraints <span class="c1">=</span> <span class="c1">new</span> <span class="b c7">List</span><span class="c1">&lt;</span><span class="b c7">VertexConstraint</span><span class="c1">&gt;</span><span class="c1">(</span><span class="c1">)</span><span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1006" class="ct cg"><span class="ln" data-line-number="&nbsp;1006&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1006"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">return</span> v<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1007" class="ct cg"><span class="ln" data-line-number="&nbsp;1007&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1007"><span class="rt">&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1008" class="ct cg"><span class="ln" data-line-number="&nbsp;1008&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1008"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1009" class="ct cg"><span class="ln" data-line-number="&nbsp;1009&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1009"><span class="rt">&nbsp; <span class="b c5">///</span><span class="i c8">///////////////////////////////////////////////////////////////////////////////////////////////</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1010" class="ct cg"><span class="ln" data-line-number="&nbsp;1010&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1010"><span class="rt"><span class="i empty_text" style=" color: #969896;">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1011" class="ct cg"><span class="ln" data-line-number="&nbsp;1011&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1011"><span class="rt">&nbsp; <span class="c1">[</span>System<span class="c1">.</span>Serializable<span class="c1">]</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1012" class="ct cg"><span class="ln" data-line-number="&nbsp;1012&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1012"><span class="rt">&nbsp; <span class="c2">public</span> <span class="c2">struct</span> VertexConstraint</span></div></td></tr>
<tr><td valign="top" id="L_0_1013" class="ct cg"><span class="ln" data-line-number="&nbsp;1013&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1013"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1014" class="ct cg"><span class="ln" data-line-number="&nbsp;1014&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1014"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="b c7">Vector3</span> linePosA<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1015" class="ct cg"><span class="ln" data-line-number="&nbsp;1015&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1015"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="b c7">Vector3</span> linePosB<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1016" class="ct cg"><span class="ln" data-line-number="&nbsp;1016&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1016"><span class="rt">&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1017" class="ct cg"><span class="ln" data-line-number="&nbsp;1017&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1017"><span class="rt">&nbsp; <span class="b c5">///</span><span class="i c8">///////////////////////////////////////////////////////////////////////////////////////////////</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1018" class="ct cg"><span class="ln" data-line-number="&nbsp;1018&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1018"><span class="rt"><span class="i empty_text" style=" color: #969896;">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1019" class="ct cg"><span class="ln" data-line-number="&nbsp;1019&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1019"><span class="rt">&nbsp; <span class="c1">[</span>System<span class="c1">.</span>Serializable<span class="c1">]</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1020" class="ct cg"><span class="ln" data-line-number="&nbsp;1020&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1020"><span class="rt">&nbsp; <span class="c2">private</span> <span class="c2">struct</span> ReflectionLine</span></div></td></tr>
<tr><td valign="top" id="L_0_1021" class="ct cg"><span class="ln" data-line-number="&nbsp;1021&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1021"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1022" class="ct cg"><span class="ln" data-line-number="&nbsp;1022&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1022"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="b c7">Vector3</span> origin<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1023" class="ct cg"><span class="ln" data-line-number="&nbsp;1023&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1023"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="c2">float</span> angle<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1024" class="ct cg"><span class="ln" data-line-number="&nbsp;1024&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1024"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="b c7">Vector3</span> posA<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1025" class="ct cg"><span class="ln" data-line-number="&nbsp;1025&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1025"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="b c7">Vector3</span> posB<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1026" class="ct cg"><span class="ln" data-line-number="&nbsp;1026&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1026"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="b c7">Vector3</span> n<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1027" class="ct cg"><span class="ln" data-line-number="&nbsp;1027&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1027"><span class="rt">&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1028" class="ct cg"><span class="ln" data-line-number="&nbsp;1028&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1028"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1029" class="ct cg"><span class="ln" data-line-number="&nbsp;1029&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1029"><span class="rt">&nbsp; <span class="b c5">///</span><span class="i c8">///////////////////////////////////////////////////////////////////////////////////////////////</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1030" class="ct cg"><span class="ln" data-line-number="&nbsp;1030&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1030"><span class="rt"><span class="i empty_text" style=" color: #969896;">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1031" class="ct cg"><span class="ln" data-line-number="&nbsp;1031&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1031"><span class="rt">&nbsp; <span class="c1">[</span>System<span class="c1">.</span>Serializable<span class="c1">]</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1032" class="ct cg"><span class="ln" data-line-number="&nbsp;1032&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1032"><span class="rt">&nbsp; <span class="c2">public</span> <span class="c2">struct</span> StartReflection</span></div></td></tr>
<tr><td valign="top" id="L_0_1033" class="ct cg"><span class="ln" data-line-number="&nbsp;1033&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1033"><span class="rt">&nbsp; <span class="c1">{</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1034" class="ct cg"><span class="ln" data-line-number="&nbsp;1034&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1034"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="b c7">Vector3</span> pos<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1035" class="ct cg"><span class="ln" data-line-number="&nbsp;1035&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1035"><span class="rt">&nbsp;&nbsp;&nbsp; <span class="c2">public</span> <span class="b c7">Vector3</span> dir<span class="c1">;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1036" class="ct cg"><span class="ln" data-line-number="&nbsp;1036&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1036"><span class="rt">&nbsp; <span class="c1">}</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1037" class="ct cg"><span class="ln" data-line-number="&nbsp;1037&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1037"><span class="rt"><span class="empty_text">&nbsp;</span></span></div></td></tr>
<tr><td valign="top" id="L_0_1038" class="ct cg"><span class="ln" data-line-number="&nbsp;1038&nbsp;"></span></td><td valign="top" class="ct cl"><div id="C_0_1038"><span class="rt"><span class="c1">}</span></span></div></td></tr></table></td></tr></table></pre><div id="tbh"><div id="tb"><img onclick="toggle_plain_text();" alt="" title="Toggle Plain" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3AofFg8dF9eGSAAAAAxpVFh0Q29tbWVudAAAAAAAvK6ymQAAANRJREFUOMvdkTFOgkEQhResaeQScAsplIRGDgKttnsIOYIUm1hQa/HfQiMFcIBt9k/UTWa/sRkbspKfzviS7eZ7M/uec39WbdsOgU/gI6V0ebZBKeVeTaWUu7PgpmkugD3wZW8XQuh3NhCRuaoq8AisVVVF5LazAfBi0JWITMzsuROccx4b8O6cc977HrAFyDmPumxfHQf3EyjwcBKOMQ6ApL8ISDHGwanqljb4VLlsY5ctqrD99c3Cm1aamZn5q/e+V6vuxgb2tc5DCH3gYAuu3f/RNzmJ99G3cZ53AAAAAElFTkSuQmCC" /><img onclick="toggle_gutter();" alt="" title="Toggle Gutter" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3AofFg8FBLseHgAAAAxpVFh0Q29tbWVudAAAAAAAvK6ymQAAAM5JREFUOMvdjzFqAlEQhuephZWNYEq9wJ4kt7C08AiyhWCXQI6xh5CtUqVJEbAU1kA6i92VzWPnmxR5gUUsfAQbf5himPm+YURumSzLetFQWZZj4Bn45DcHYFMUxfAqAbA1MwO+gHeA0L9cJfDeJ6q6yvO8LyKiqosgOKVp6qJf8t4nQfD9J42Kqi6D4DUabppmBhzNzNq2fYyC67p+AHbh+iYKrqpqAnwE+Ok/8Dr6b+AtwArsu6Wq8/P9wQXHTETEOdcTkWl3YGYjub/8ANrnvguZ++ozAAAAAElFTkSuQmCC" /><img onclick="page_print();" alt="" title="Print" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3AofFhAl8o8wSAAAAAxpVFh0Q29tbWVudAAAAAAAvK6ymQAAAQZJREFUOMulkzFSgjEUhL8X/xJ/iBegkAtQ6A08gIUehFthYykOw9BzBmwcaxGoZW1eZjIx/sC4TTJv8ja7mxfDIcmAAWDUIeDLzJQXm2w/AFZOkB8yoAU+gHtJ7yVJUnAlaS1pJOm6WN8kjSUtJQ1dLQChIvMATIEXXw9e3wMT4NnV/rKQsAcegAvgG9g5wcwv7OU51QgugSegD2yBO+DWmyLw+leINQXyW5VeoQj4qIIcW+CxPFwjSLKtEnAZOkGSSYruL3QMUxq0AERJUZKl5pV7bjsmMR+qHfAJ3DReDB4cwKLiv0R0S5Yy6ANz37ecgSZ7nui1zYm9G0B2wi+k63fyX/wA0b9vjF8iB3oAAAAASUVORK5CYII=" /></div></div>
<script type="text/javascript">function isUndef(obj){return obj===void 0;} function isNull(obj){return obj===null;} function page_print(){var element=document.getElementById("tbh");if(!isNull(element)){element.style.display="none";} if(window.print){window.print();} if(!isNull(element)){element.style.display="block";}} var plain_text_clone=null;function toggle_plain_text(){var lines=document.querySelectorAll(".cl"),line_len=lines.length,text="",plain_pre=document.querySelectorAll("pre.scp"),orig_pre,pre,i,j,spans,span_len,span;if(plain_pre.length>0){document.body.removeChild(plain_pre[0]);document.body.appendChild(plain_text_clone);document.body.className="cp ct";}else{var re=new RegExp(String.fromCharCode(160),"g");var is_empty=new RegExp("(^|\s)empty_text(\s|$)");for(i=0;i<line_len;i++){spans=lines[i].querySelectorAll("span.rt, span.et");span_len=spans.length;for(j=0;j<span_len;j++){span=spans[j];if(span.className.search(is_empty)!=-1){if("textContent"in span){text+=span.textContent.replace(re,'');}else{text+=span.innerText.replace(re,'');}}else{if("textContent"in span){text+=span.textContent.replace(re,' ');}else{text+=span.innerText.replace(re,' ');}}} text+="\n";} orig_pre=document.querySelectorAll("pre.cp")[0];plain_text_clone=orig_pre.cloneNode(true);pre=document.createElement('pre');pre.className="scp";pre.appendChild(document.createTextNode(text));document.body.removeChild(orig_pre);document.body.appendChild(pre);document.body.className="scp";}} var page_line_info={w:false,ranges:null,w_size:null,tables:null,header:null,gutter:false,table_mode:true};function w_code(){var width=0,mode=null,start,end,i,j,idx,el;if(page_line_info.header){el=document.getElementById("file_info");el.style.width=page_line_info.w_size+"px";el.className="w";} for(i=1;i<=page_line_info.tables;i++){idx=i-1;start=page_line_info.ranges[idx][0];end=page_line_info.ranges[idx][1];for(j=start;j<end;j++){if(isNull(mode)){mode=true;if(page_line_info.gutter){width=document.getElementById("L_"+idx+"_"+j).offsetWidth;}} el=document.getElementById("C_"+idx+"_"+j);el.style.width=(page_line_info.w_size-width)+"px";el.className=page_line_info.table_mode?"w":"w cl";}}} function toggle_gutter(){var default_mode=page_line_info.table_mode?'table-cell':'inline-block',mode=null,i,j,rows,r,tbls,cells;items=document.querySelectorAll('.cg');for(i=0;i<items.length;++i){if(isNull(mode)){if(page_line_info.gutter){mode='none';page_line_info.gutter=false;}else{mode='inline-block';page_line_info.gutter=true;}} items[i].style.display=mode;} if(page_line_info.w&&!isNull(mode)){setTimeout(function(){w_code();},500);}} function unw_code(){var i,j,idx,start,end,el;if(page_line_info.header){document.getElementById("file_info").style.width="100%";} for(i=1;i<=page_line_info.tables;i++){idx=i-1;start=page_line_info.ranges[idx][0];end=page_line_info.ranges[idx][1];for(j=start;j<end;j++){el=document.getElementById("C_"+idx+"_"+j);el.style.width="100%";el.className="";}}} function toggle_wping(){if(page_line_info.w){page_line_info.w=false;unw_code();}else{page_line_info.w=true;w_code();}} page_line_info.w=false;page_line_info.ranges=[[1,550]];page_line_info.w_size=900;page_line_info.tables=1;page_line_info.header=true;page_line_info.gutter=true;page_line_info.table_mode=true;</script>
</body></html>
